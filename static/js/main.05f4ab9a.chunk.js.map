{"version":3,"sources":["containers/Footer/Footer.module.scss","components/Tag/Tag.module.scss","containers/SeedPool/SeedPool.module.scss","pages/MarketPage/MarketPage.module.scss","components/MarketInfoCard/MarketInfoCard.module.scss","containers/AddableInputs/AddableInputs.module.scss","containers/Page/Page.module.scss","containers/HomeHeader/HomeHeader.module.scss","containers/TokenSwapper/TokenSwapperLoader.module.scss","pages/ProfilePage/ProfilePage.module.scss","containers/TabBar/TabBar.module.scss","compositions/Dialog/Dialog.module.scss","pages/HomePage/HomePage.module.scss","containers/MarketHeader/MarketHeaderLoader.module.scss","containers/LiquidityProvider/LiquidityProvider.module.scss","containers/ExitPool/ExitPool.module.scss","containers/MarketResolutionOverview/MarketResolutionOverview.module.scss","compositions/MarketCard/MarketCard.module.scss","components/TokenWeightsBar/TokenWeightsBar.module.scss","containers/MarketResolutionInfo/MarketResolutionInfo.module.scss","containers/MarketStatistics/MarketStatistics.module.scss","components/ToggleButtons/ToggleButtons.module.scss","components/BackgroundWave/BackgroundWave.module.scss","components/Button/Button.module.scss","containers/MarketResolutionCard/MarketResolutionCard.module.scss","components/DateTimePicker/DateTimePicker.module.scss","components/Label/Label.module.scss","components/OptionSwitch/OptionSwitch.module.scss","components/TextInput/TextInput.module.scss","components/LinkButton/LinkButton.module.scss","containers/MarketResolutionInfo/MarketResolutionInfoLoader.module.scss","components/IconButton/IconButton.module.scss","components/Token/Token.module.scss","components/NonLinkButton/NonLinkButton.module.scss","components/ActionsCard/ActionCard.module.scss","containers/TabbedViews/TabbedViews.module.scss","containers/ClaimEarnings/ClaimEarnings.module.scss","containers/ClaimEarnings/components/FinalizedMarketOutcomes/FinalizedMarketOutcomes.module.scss","components/Error/Error.module.scss","components/BackgroundWave/BackgroundWave.tsx","containers/TabBar/TabBar.tsx","assets/images/flux-logo-black.svg","assets/images/flux-logo-white.svg","utils/hooks/useDarkModeTheme.ts","containers/Footer/Footer.tsx","assets/images/icons/twitter_logo.png","assets/images/icons/telegram_logo.png","components/Button/Button.tsx","translation/trans.ts","models/FetchResult.ts","config.ts","services/TokenPriceService.ts","services/WalletService.ts","services/CollateralTokenService.ts","containers/Menu/Menu.tsx","redux/account/account.ts","models/PoolToken.ts","models/UserBalance.ts","services/GraphQLService.ts","services/AccountService.ts","connectors/MenuConnector/MenuConnector.tsx","redux/account/accountActions.ts","containers/Page/Page.tsx","models/Market.ts","assets/images/circle-crypto.png","assets/images/icons/icon-crypto.png","assets/images/circle-esports.png","assets/images/icons/icon-esports.png","assets/images/circle-meme.png","assets/images/icons/icon-meme.png","assets/images/circle-politics.png","assets/images/icons/icon-politics.png","assets/images/circle-sports.png","assets/images/icons/icon-sports.png","assets/images/circle-startups.png","assets/images/icons/icon-startups.png","assets/images/circle-stocks.png","assets/images/icons/icon-stockmarket.png","assets/images/circle-viral.png","assets/images/icons/icon-viral.png","assets/images/icons/icon-beer.svg","models/PoolBalance.ts","models/TokenViewModel.ts","utils/getCategoryInfo.ts","services/contracts/ProtocolContract.ts","services/MarketService.ts","components/MarketInfoCard/MarketInfoCard.tsx","containers/MarketResolutionCard/MarketResolutionCard.tsx","containers/MarketResolutionOverview/MarketResolutionOverview.tsx","connectors/MarketResolutionOverviewConnector/MarketResolutionOverviewConnector.tsx","utils/calcDistributionHint.ts","services/contracts/TokenContract.ts","services/PoolService.ts","redux/market/market.ts","redux/market/marketActions.ts","pages/HomePage/sub-pages/ResolutionPage/ResolutionPage.tsx","components/Tag/Tag.tsx","utils/getColorForOutcome.ts","components/TokenWeightsBar/TokenWeightsBar.tsx","compositions/MarketOpinionCard/MarketOpinionCard.tsx","compositions/MarketCard/MarketCard.tsx","containers/MarketOverview/MarketOverview.tsx","connectors/MarketOverviewConnector/MarketOverviewConnector.tsx","pages/HomePage/sub-pages/MarketsOverviewPage/MarketsOverviewPage.tsx","components/DateTimePicker/DateTimePicker.tsx","components/Label/Label.tsx","components/OptionSwitch/OptionSwitch.tsx","components/TextInput/TextInput.tsx","compositions/Dialog/Dialog.tsx","containers/AddableInputs/AddableInputs.tsx","containers/MarketCreationDialog/MarketCreationDialog.tsx","containers/MarketCreationDialog/utils/createDefaultMarketFormValues.ts","redux/dialogs/dialogs.ts","connectors/MarketCreationDialogConnector/MarketCreationDialogConnector.tsx","containers/HomeHeader/HomeHeader.tsx","connectors/HomeHeaderConnector/HomeHeaderConnector.tsx","components/LinkButton/LinkButton.tsx","containers/MarketHeader/MarketHeader.tsx","containers/MarketHeader/MarketHeaderLoader.tsx","connectors/MarketHeaderConnector/MarketHeaderConnector.tsx","containers/MarketResolutionInfo/MarketResolutionInfo.tsx","containers/MarketResolutionInfo/MarketResolutionInfoLoader.tsx","connectors/MarketResolutionInfoConnector/MarketResolutionInfoConnector.tsx","utils/getCssVariableValue.ts","containers/LineChart/LineChart.tsx","containers/LineChart/utils/generateLineChart.ts","components/ToggleButtons/ToggleButtons.tsx","services/PricesHistoryService.ts","containers/MarketStatistics/MarketStatistics.tsx","redux/priceHistory/priceHistory.ts","redux/priceHistory/priceHistoryActions.ts","connectors/MarketStatisticsConnector/MarketStatisticsConnector.tsx","components/IconButton/IconButton.tsx","components/Token/Token.tsx","components/NonLinkButton/NonLinkButton.tsx","containers/TokenSelect/components/TokenDropdown/TokenDropdown.tsx","containers/TokenSelect/TokenSelect.tsx","containers/TokenSwapper/components/SwapOverview/SwapOverview.tsx","utils/calcBuyAmountInShares.ts","containers/TokenSwapper/utils/formValuesMutation.ts","utils/calcSellAmountOut.ts","containers/TokenSwapper/TokenSwapper.tsx","containers/TokenSwapper/utils/createDefaultSwapFormValues.ts","containers/TokenSwapper/TokenSwapperLoader.tsx","connectors/TokenSwapperConnector/TokenSwapperConnector.tsx","components/ActionsCard/ActionsCard.tsx","containers/TabbedViews/TabbedViews.tsx","containers/LiquidityProvider/LiquidityProvider.tsx","connectors/LiquidityProviderConnector/LiquidityProviderConnector.tsx","containers/ClaimEarnings/components/FinalizedMarketOutcomes/FinalizedMarketOutcomes.tsx","containers/ClaimEarnings/ClaimEarnings.tsx","connectors/ClaimEarningsConnector/ClaimEarningsConnector.tsx","containers/SeedPool/components/WrongOwnerMessage/WrongOwnerMessage.tsx","containers/SeedPool/SeedPool.tsx","containers/SeedPool/services/createDefaultSeedPoolFormValues.ts","containers/SeedPool/services/validateSeedPool.ts","connectors/SeedPoolConnector/SeedPoolConnector.tsx","containers/MarketClosed/MarketClosed.tsx","components/Error/Error.tsx","containers/ExitPool/ExitPool.tsx","containers/ExitPool/services/createDefaultExitPoolFormValues.ts","containers/ExitPool/services/validateExitPool.ts","connectors/ExitPoolConnector/ExitPoolConnector.tsx","containers/FeesEarnedOverview/FeesEarnedOverview.tsx","connectors/FeesEarnedOverviewConnector/FeesEarnedOverviewConnector.tsx","containers/UserBalancesOverview/UserBalancesOverview.tsx","connectors/UserBalancesOverviewConnector/UserBalancesOverviewConnector.tsx","routes.ts","pages/MarketPage/MarketPage.tsx","pages/ProfilePage/ProfilePage.tsx","pages/HomePage/HomePage.tsx","App.tsx","redux/pools/pools.ts","redux/reducers.ts","redux/store.ts","index.tsx","containers/MarketCreationDialog/MarketCreationDialog.module.scss","containers/MarketHeader/MarketHeader.module.scss","containers/TokenSwapper/components/SwapOverview/SwapOverview.module.scss","containers/UserBalancesOverview/UserBalancesOverview.module.scss","containers/MarketOverview/MarketOverview.module.scss","containers/TokenSelect/components/TokenDropdown/TokenDropdown.module.scss","containers/TokenSwapper/TokenSwapper.module.scss","containers/FeesEarnedOverview/FeesEarnedOverview.module.scss","containers/Menu/Menu.module.scss","compositions/MarketOpinionCard/MarketOpinionCard.module.scss","containers/TokenSelect/TokenSelect.module.scss"],"names":["module","exports","BackgroundWave","className","s","TabBar","items","onTabClick","activeId","variant","Tabs","classes","indicator","classnames","root","value","filter","tab","show","map","Tab","onClick","label","id","themeContext","React","createContext","toggleTheme","theme","setModeOnRoot","mode","document","documentElement","setAttribute","useDarkModeThemeContext","useContext","Footer","wrapper","logo","src","fluxLogoBlack","fluxLogoWhite","alt","socials","href","social","rel","target","Button","children","props","button","trans","key","attributes","uppercaseFirstLetter","result","translations","text","resultWithAttributes","options","replace","word","undefined","replaceAttributes","charAt","toUpperCase","substring","FetchResultType","NULL_CONTRACT","COINGECKO_API_URL","process","PROTOCOL_ACCOUNT_ID","FUNGIBLE_TOKEN_ACCOUNT_ID","MAX_GAS","BN","STORAGE_DEFAULT","DEFAULT_LIMIT","toString","isFetchResultSuccesful","type","Success","getTokenPriceByTicker","ticker","a","currency","fetch","response","json","data","market_data","current_price","status","console","error","Error","nearInstance","walletConnection","getNetworkConfig","networkName","nodeUrl","networkId","contractName","walletUrl","initialBalance","connectNear","networkConfig","connect","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","connectWallet","near","WalletConnection","formatCollateralToken","amount","decimals","dp","Big","DP","denominator","pow","div","toCollateralToken","mul","getCollateralTokenBalance","tokenAccountId","accountId","account","viewFunction","account_id","balance","balanceFormatted","getCollateralTokenPrice","Menu","onLoginClick","onLogoutClick","onProfileClick","useState","menuAnchorEl","setMenuAnchorEl","handleMenuClose","menu","menu__items","menu__item","to","menu__logo","event","currentTarget","accountMenuButton","anchorEl","keepMounted","open","Boolean","onClose","disabled","accountSlice","createSlice","initialState","loading","poolTokenLoading","poolTokens","errors","balances","name","reducers","setAccount","state","action","payload","setAccountPoolTokens","setAccountLoading","setAccountPoolTokenLoading","setAccountBalances","setAccountErrors","actions","transformToPoolToken","graphData","fees","marketDescription","market","description","marketId","poolId","outcomeId","getMarketStatus","endTime","Date","parseInt","end_time","now","finalized","payout_numerator","getTime","transformToUserBalance","outcome_id","pool_id","marketStatus","outcomeTag","outcome_tags","cache","InMemoryCache","link","createHttpLink","uri","graphqlClient","ApolloClient","defaultOptions","watchQuery","fetchPolicy","signUserIn","requestSignIn","getAccountInfo","connectedWallet","isSignedIn","nearAccount","getAccountBalance","available","signUserOut","signOut","getAccountBalancesInfo","query","gql","variables","accountBalances","earned_fees","marketBalances","getBalancesForMarketByAccount","getPoolBalanceForMarketByAccount","length","MenuConnector","dispatch","useDispatch","history","useHistory","accountInfo","useSelector","store","useEffect","handleLoginClick","useCallback","handleLogoutClick","handleProfileClick","push","routePaths","profile","Page","hasNavigation","hasFooter","size","bodyClassName","pageBodyClassName","styles","page__body","page","MarketCategory","transformToPoolBalanceViewModel","outcomeTags","poolBalance","poolWeight","weight","outcomeLabel","price","odds","sort","b","tag","index","generateTokenName","tokenName","splitted","split","slice","transformToTokenViewModels","tags","poolBalanceData","userBalances","poolBalances","outcome","find","userBalance","tokenSymbol","transformToMainTokenViewModel","collateralTokenAccountId","fetchPrice","NaN","transformToMarketViewModel","graphResponse","collateralToken","tokensInfo","pool","tokens_info","poolTokenInfo","info","is_pool_token","payoutNumerator","category","categories","extraInfo","extra_info","owner","resolutionDate","public","volume","collateralTokenId","collateral_token_id","invalid","outcomeTokens","pool_balances","totalSupply","total_supply","getCategoryInfo","Crypto","circleIcon","circleCrypto","cardIcon","icon","iconCrypto","title","color","Esports","circleEsports","iconEsports","Meme","circleMeme","iconMeme","Politics","circlePolitics","iconPolitics","Sports","circleSports","iconSports","Startups","circleStartups","iconStartups","Stocks","circleStocks","iconStocks","Viral","circleViral","iconViral","Beer","iconBeer","Unknown","protocolInstance","ProtocolContract","contract","this","Contract","viewMethods","changeMethods","outcomes","endDate","create_market","swap_fee","totalIn","denormWeights","seed_pool","market_id","total_in","denorm_weights","exit_pool","values","sell","collateral_out","amountOut","outcome_target","fromToken","max_shares_in","amountIn","claim_earnings","createProtocolContract","wallet","createMarket","protocol","getMarketById","getMarkets","filters","expired","limit","offset","dummyMainToken","marketsPromises","Promise","all","getResolutingMarkets","claimEarnings","formatResolutionDate","format","MarketInfoCard","categoryInfo","style","backgroundColor","categoryTitle","join","bubble","resolutionInfo","MarketResolutionCard","MarketResolutionOverview","markets","marketDetail","MarketResolutionOverviewConnector","resolutingMarkets","calcDistributionHint","initialOdds","some","x","initialOddsBig","product","reduce","o","round","TokenContract","register_account","get_balance","JSON","stringify","function","args","toToken","min_shares_out","transfer_with_vault","receiver_id","tokenInstances","Map","createTokenContract","instance","get","newInstance","set","seedPool","weights","outcomePercentages","mainTokenInput","publishPool","tokenId","joinPool","exitPool","window","marketsSlice","marketLoading","editLoading","setMarketErrors","marketError","setMarketLoading","setMarketEditLoading","setMarkets","appendMarkets","setResolutingMarkets","setMarketDetail","setMarketPoolTokenBalance","poolTokenBalance","fetchMarkets","append","ResolutionPage","Helmet","appName","Tag","active","rootClassName","COLORS","getColorForOutcome","TokenWeightsBar","width","MarketOpinionCard","toNumber","toPrecision","MarketCard","infoCard","MarketOverview","onFilterChange","onRequestMoreMarkets","activeFilters","hasMoreMarkets","marketCategories","useMemo","Object","includes","activeCategories","cat","handleCategoryClick","dataLength","next","hasMore","loader","Array","fill","_","Skeleton","height","skeleton","MarketOverviewConnector","location","useLocation","useRef","setFilters","queryParams","URLSearchParams","search","newActiveFilters","getAll","newFilters","forEach","current","MarketsOverviewPage","DateTimePicker","onChange","inputVariant","Label","OptionSwitch","labelA","labelB","Switch","checked","TextInput","multiline","required","TextField","Dialog","onRequestClose","onSubmitClick","paper","DialogTitle","DialogContent","DialogActions","cancelButton","confirmButton","AddableInputs","handleInputChange","inputs","input","number","IconButton","aria-label","removeIcon","splice","handleRemoveClick","addMoreButton","MarketCreationDialog","onSubmit","formRef","addDays","isCategoricalMarket","formValues","setFormValues","ref","inputsWrapper","date","dialogsSlice","isMarketCreationOpen","setMarketCreationDialogOpen","MarketCreationDialogConnector","isDialogOpen","dialogs","handleRequestClose","handleSubmit","HomeHeader","onCreateMarketClick","titleWrapper","username","subTitle","HomeHeaderConnector","handleCreateMarketClick","LinkButton","MarketHeader","headerItem","categoryTag","opinionCardWrapper","backgroundImage","MarketHeaderLoader","MarketHeaderConnector","MarketResolutionInfo","MarketResolutionInfoLoader","MarketResolutionInfoConnector","getCssVariableValue","getComputedStyle","getPropertyValue","LineChart","pricesHistory","canvas","chart","context","getContext","Chart","responsive","legend","display","animation","duration","elements","line","tension","point","scales","yAxes","gridLines","drawOnChartArea","drawTicks","ticks","fontColor","min","max","maxTicksLimit","stepSize","padding","callback","Number","toFixed","xAxes","generateLineChart","priceHistoryData","outcomeData","historyData","dataPoints","outcomePriceData","outcomeDataPoints","isArray","dataSets","borderWidth","borderColor","cubicInterpolationMode","borderDash","labels","pointKey","datasets","generateChartData","update","ToggleButtons","exclusive","ToggleButtonGroup","v","item","selected","Period","getPricesHistoryByMarketId","period","chosenPeriondDate","metric","OneDay","OneWeek","ThreeWeeks","OneMonth","All","subDays","subWeeks","subMonths","beginTimestamp","dateMetric","MarketStatistics","onPeriodChange","selectedPeriod","setSelectedPeriod","timePeriodButtons","pricesHistorySlice","pricesLoading","setPriceHistoryErrors","pricesError","setPriceHistoryLoading","setPricesHistory","fetchPricesHistoryByMarketId","MarketStatisticsConnector","priceHistory","intervalId","clearInterval","setInterval","Token","token","NonLinkButton","TokenDropdown","tokens","onTokenClick","TokenSelect","selectedToken","onTokenSwitch","onValueChange","showPrice","isDropdownOpen","setDropdownOpen","handleChangePairClick","handleTokenClick","placeholder","e","SwapOverview","ONE","ZERO","ceilDiv","mod","add","calcBuyAmountInShares","investmentAmount","outcomeIndex","fee","eq","every","investmentAmountMinusFees","scale","Math","mulBN","log","newOutcomeBalance","accumulator","i","sub","mutateFormValues","formattedAmountIn","DEFAULT_FEE","sharesToSell","holdings","otherHoldings","r","newtonRaphson","R","firstTerm","h","minus","secondTerm","plus","thirdTerm","maxIterations","calcSellAmountInCollateral","formattedAmountOut","TokenSwapper","outputs","onConfirm","onRequestSwitchPairs","mutation","TokenSwapperLoader","TokenSwapperConnector","switched","setSwitched","buy","ActionsCard","TabbedView","setActiveId","availableItems","activeItem","itemIndex","findIndex","tabs","onChangeIndex","element","LiquidityProvider","liquidityAmount","setLiquidityAmount","header","tokenSelect","confirm","LiquidityProviderConnector","onJoinPool","FinalizedMarketOutcomes","table","numerator","ClaimFees","onClaim","ClaimEarningsConnector","handleClaim","claimEarningsForMarket","WrongOwnerMessage","SeedPool","mainToken","onSeedPool","onFinalizePool","canSubmit","message","percentage","hasOutcomeErrors","percentageTogether","prev","cur","validateSeedPool","inputWrapper","tokenTitles","percentages","handlePercentageChange","helperText","InputProps","endAdornment","InputAdornment","position","adornement","SeedPoolConnector","handleSeedPool","handleFinalize","MarketClosed","ExitPool","pooltoken","poolToken","onExitPool","lt","lte","validateExitPool","ExitPoolConnector","handleExitPool","FeesEarnedOverview","tableHead","tableHeadRow","tableRow","FeesEarnedOverviewConnector","UserBalancesOverview","UserBalancesOverviewConnector","resoluted","routes","component","useParams","details","infoWrapper","stats","tokenSwapper","comments","shortname","config","exact","inNavigation","path","accountBalancesInfo","pageBody","feesEarned","isLargeScreen","useMediaQuery","homePage","homePageBody","tabBar","pathname","App","setTheme","setMode","localStorage","setItem","localTheme","getItem","useDarkMode","Provider","route","poolsSlice","poolLoading","pools","setPoolErrors","poolError","setPoolLoading","setPools","combineReducers","createEnhancer","REACT_APP_APP_ENV","composeWithDevTools","applyMiddleware","thunk","preloadedState","enhancer","createStore","configureStore","ReactDOM","render","utils","DateFnsUtils","StylesProvider","injectFirst","getElementById"],"mappings":"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","file":"static/js/main.05f4ab9a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Footer_root__2znoy\",\"wrapper\":\"Footer_wrapper__1UYZo\",\"logo\":\"Footer_logo__1GRAA\",\"social\":\"Footer_social__2FqgP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Tag_root__1xt2a\",\"root--active\":\"Tag_root--active__2Slzj\",\"icon\":\"Tag_icon__WN_Jd\",\"title\":\"Tag_title__3v0LT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"SeedPool_inputWrapper__1iNWT\",\"confirmButton\":\"SeedPool_confirmButton__2E-cv\",\"adornement\":\"SeedPool_adornement__2s7XG\",\"tokenTitles\":\"SeedPool_tokenTitles__12Whr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketPage_root__3LPOC\",\"details\":\"MarketPage_details__3pbkK\",\"infoWrapper\":\"MarketPage_infoWrapper__1ZdyC\",\"tokenSwapper\":\"MarketPage_tokenSwapper__3X26Z\",\"stats\":\"MarketPage_stats__arHt3\",\"comments\":\"MarketPage_comments__2mb0X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketInfoCard_root__2FEW4\",\"title\":\"MarketInfoCard_title__2n1-R\",\"bubble\":\"MarketInfoCard_bubble__1odeX\",\"resolutionInfo\":\"MarketInfoCard_resolutionInfo__3OcCd\",\"categoryTitle\":\"MarketInfoCard_categoryTitle__3uYSK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addMoreButton\":\"AddableInputs_addMoreButton__2k3JV\",\"input\":\"AddableInputs_input__2fSt_\",\"inputs\":\"AddableInputs_inputs__3gwjp\",\"actions\":\"AddableInputs_actions__14mC0\",\"removeIcon\":\"AddableInputs_removeIcon__3xKav\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Page_page__1vav1\",\"page__body\":\"Page_page__body__3V8v2\",\"page__body--large\":\"Page_page__body--large__27pTP\",\"page__body--unrestricted\":\"Page_page__body--unrestricted__3wRih\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HomeHeader_root__2i5k9\",\"titleWrapper\":\"HomeHeader_titleWrapper__3rfhA\",\"title\":\"HomeHeader_title__3isjk\",\"subTitle\":\"HomeHeader_subTitle__3F-zR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skeleton\":\"TokenSwapperLoader_skeleton__19zxP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ProfilePage_root__2aAdj\",\"pageBody\":\"ProfilePage_pageBody__3-nCN\",\"userBalances\":\"ProfilePage_userBalances__2nnA0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TabBar_root__djI5v\",\"tab\":\"TabBar_tab__1berB\",\"indicator\":\"TabBar_indicator__2t7kc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paper\":\"Dialog_paper__XrzDE\",\"cancelButton\":\"Dialog_cancelButton__3SRaV\",\"confirmButton\":\"Dialog_confirmButton__OGdmB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homePage\":\"HomePage_homePage__1J6Li\",\"homePageBody\":\"HomePage_homePageBody__1soNb\",\"tabBar\":\"HomePage_tabBar__1DeXq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketHeaderLoader_root__2LBTq\",\"wrapper\":\"MarketHeaderLoader_wrapper__1Gjam\",\"skeleton\":\"MarketHeaderLoader_skeleton__o_qZI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirm\":\"LiquidityProvider_confirm__uAEJF\",\"tokenSelect\":\"LiquidityProvider_tokenSelect__145e7\",\"header\":\"LiquidityProvider_header__3s-_C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirm\":\"ExitPool_confirm__1B_mc\",\"tokenSelect\":\"ExitPool_tokenSelect__1Slsh\",\"header\":\"ExitPool_header__MxyTH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketResolutionOverview_root__3BBll\",\"market\":\"MarketResolutionOverview_market__1yDxH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketCard_root__h9Hyf\",\"infoCard\":\"MarketCard_infoCard__1rzGB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token-weights-bar\":\"TokenWeightsBar_token-weights-bar__m-jIF\",\"token-weights-bar__weight\":\"TokenWeightsBar_token-weights-bar__weight__dLbBM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketResolutionInfo_root__2t0wL\",\"title\":\"MarketResolutionInfo_title__Sb4IU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timePeriodButtons\":\"MarketStatistics_timePeriodButtons__315vn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ToggleButtons_button__3I0Ud\",\"selected\":\"ToggleButtons_selected__DQend\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background-wave\":\"BackgroundWave_background-wave__2kjEj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2Lf63\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketResolutionCard_root__13f1I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"DateTimePicker_root__2vHn-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Label_root__ppqno\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"OptionSwitch_root__URwjr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TextInput_root__1xHrc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link-button\":\"LinkButton_link-button__ZMs6H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skeleton\":\"MarketResolutionInfoLoader_skeleton__2_ygu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon-button\":\"IconButton_icon-button__2Mu5G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token\":\"Token_token__3WyPN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"non-link-button\":\"NonLinkButton_non-link-button__1th1A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ActionCard_root__2bQ7m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"TabbedViews_tabs__OJlbM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirm\":\"ClaimEarnings_confirm__3mCYg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"FinalizedMarketOutcomes_table__1Sj0h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__T_9Pn\"};","import React from 'react';\n\nimport s from './BackgroundWave.module.scss';\n\nexport default function BackgroundWave() {\n    return (\n        <div className={s['background-wave']} />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport s from './TabBar.module.scss';\nexport interface TabBarItem {\n    id: string;\n    label: string;\n    show: boolean;\n}\n\ninterface Props {\n    items: TabBarItem[];\n    activeId: string;\n    onTabClick: (item: TabBarItem) => void;\n    className?: string;\n    variant?: 'standard' | 'scrollable' | 'fullWidth';\n}\n\nexport default function TabBar({\n    items,\n    onTabClick,\n    activeId,\n    variant = 'standard',\n    className = '',\n}: Props): ReactElement {\n    return (\n        <Tabs\n            classes={{ indicator: s.indicator }}\n            className={classnames(s.root, className)}\n            variant={variant}\n            value={activeId}\n        >\n            {items.filter(tab => tab.show).map(tab => (\n                <Tab\n                    key={tab.id}\n                    onClick={() => onTabClick(tab)}\n                    className={s.tab}\n                    label={tab.label}\n                    value={tab.id}\n                />\n            ))}\n        </Tabs>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/flux-logo-black.872a85f3.svg\";","export default __webpack_public_path__ + \"static/media/flux-logo-white.f9521cd9.svg\";","import React, { useEffect, useState } from 'react';\n\nexport const themeContext = React.createContext({\n    toggleTheme: () => {},\n    theme: 'dark',\n});\n\nfunction setModeOnRoot(mode: string) {\n    document.documentElement.setAttribute('data-theme', mode);\n}\n\nexport const useDarkMode = () => {\n    const [theme, setTheme] = useState<string>('dark');\n\n    const setMode = (mode: 'light' | 'dark') => {\n        window.localStorage.setItem('theme', mode);\n        setTheme(mode);\n        setModeOnRoot(mode);\n    };\n\n    const toggleTheme = () => {\n        theme === 'light' ? setMode('dark') : setMode('light');\n    };\n\n    // on load get theme from localstorage and set it\n    useEffect(() => {\n        const localTheme = window.localStorage.getItem('theme');\n\n        if (localTheme) {\n            setTheme(localTheme);\n            setModeOnRoot(localTheme);\n        }\n    }, []);\n\n    return [theme, toggleTheme]\n};\n\n\nexport const useDarkModeThemeContext = () => {\n    const context = React.useContext(themeContext);\n\n    return context;\n};\n","import React from 'react';\n\nimport fluxLogoBlack from '../../assets/images/flux-logo-black.svg';\nimport fluxLogoWhite from '../../assets/images/flux-logo-white.svg';\nimport twitterLogo from '../../assets/images/icons/twitter_logo.png';\nimport telegramLogo from '../../assets/images/icons/telegram_logo.png';\nimport { useDarkModeThemeContext } from '../../utils/hooks/useDarkModeTheme';\n\nimport s from './Footer.module.scss';\n\nexport default function Footer() {\n    const { theme } = useDarkModeThemeContext();\n\n    return (\n        <footer className={s.root}>\n            <div className={s.wrapper}>\n                <img className={s.logo} src={theme === 'light' ? fluxLogoBlack : fluxLogoWhite} alt=\"Flux home\" />\n                <div className={s.socials}>\n                    <a href=\"https://twitter.com/fluxprotocol\" className={s.social} rel=\"noopener noreferrer\" target=\"_blank\" >\n                        <img src={twitterLogo} alt=\"Twitter page\" />\n                    </a>\n                    <a href=\"https://t.me/fluxprotocol\" className={s.social} rel=\"noopener noreferrer\" target=\"_blank\" >\n                        <img src={telegramLogo} alt=\"Telegram group\" />\n                    </a>\n                </div>\n            </div>\n        </footer>\n    );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAIaADAAQAAAABAAAAIQAAAAA1iKI6AAADZklEQVRYCb2Xy04UQRSGGWQcGYloIhi84AUxJmp0Y6Iu1aUP4MKXcGGir+HKhRt3xsSFMTFx4QZd4i2aYBRDkHgXBC/IoDB+32S6MzNUTzfo8Cc/XVSdqvPXqdOna3Jty0C5XN6AeQ/0Waiyg+c8LME5OAW/5HI525mQS7PC8Rps+uF2qOOs+IbhGGI+p01IFIFzx7bBPXBt2kJNxmcYe4kYn0EERVR3f4AZvcFZy+8sM0UhE6GpS0QgYB2GR2BXaMI/9r1j/ghiFBWjPW7RQIBJ1ioButoKB23UIhZRzYGDDLYiArU++/FlrsWIRdCzA26OR1rb2I+QYuSiIqJ6DLujzlV4mot7Iz9RJHbRkY86V/h0LYuYeZUFvWy+W8MOGqqqO6PAClvo+xjot8tidgyehdp9grfga7izVCrdLxQKf2iHoN8ZVW+EaVE4j80IvAZr4e4PwUswqqabaF+A0/Du3NzcY0TYDqHHILiI34JmMFKG7Ry8CPtgBMWfhpGAqN851pvOfD7vNyUJzu82EmmvpIXlIRyAp+BROASH4SQMVVXnvIdXi8Vi2oesSxEqbgbP/BX0Q6RDk+9MlbM8HW+EIn7AZlGI5hQUkfZxWsTmJDR3GhG/6w0DzvkA68pzg030b8GckM3gQma7d4Ysi7rWAnxmIwPaFZAlZI+wuwK/ZFhUoeaKOZMFpawiXOw37IJp0XBTd2AWwZi1VUSYXFkwhNENaNZ75iEo9Am8HRpM6Js1EmnXL995E9i34CY0P0KvnRF4Ci/DrBszd6Zc3IupO1NQCB7BcbgPetsagMJjkZbkn/AevA5nYFZMcsFZ7ODPAqXT70JfwkwdjFbHv/Mch9YWd+65W84fQL8Vy4VH22aovVG56AmYFA3NIlgbLLdGwLCnJSomQUwTgGFHKk75xzOeCJou7dSxITdCKxXgqlbhCmp3PkaPpXY18IaNx7kTi6DT8JrdvmathHkUR0FHsQj/QcgvHr7nrRLi7p/jp+4YK4nJQB1I1E46DkNfz/8Ff3O8QMCSQhcUoVeEWEMGob8VEu0YS4NRHcX52yTD1MURs57JFqjepEUS+q2G49AkNN8SkSoimokYr3D+LumBXmwa7yGes6+6FdhPwVecKyQVmUU0roQok1ohHts8Dr1vrAh/AUkd3oiiffEOAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ0SURBVHgBvZg9bxNBEIbnLBegxIWLAIpEihilQSJFyvRQww+ghxblV0BNUvMDSE8PFSmIBBIFKYKUTymO5EROYcl537s5Z33au5217/JKc5vs7d08O/txs04kQuPxuItiCdaBPYQ9cG5fwYawC9hlkiQDMSoJNYDjNooVtbbYRaADwByHGiYBgKcoepHOfTD7VZFJSpwzzM9hXalPjMqBWCAUYEOyMa9bRwD5I1UQDQOUgrQKDdYbBqCW0dkV8UHgxqpkS+8+tAZ/nSkIHYZVuV+tiQvRAMAL2DvYTkWbrm5+k/X/SObXIuy1ZPNqXev+BZ7h3Oi3QbMks29GdMwovi1xfBJ4ntFo0/ksGxLDvQl7BVvQumvYZ63vad2vwHvov5NexCZfuHN9hX2DbTkAVGg4xAJBx+z1G49j6hT2UctPsMeF+/sS1iIhqubDjufFudj7L5J1wgdgiUKq0IT8IHdRcMd5W508U4AFz7Oh+TAFMZJymFN1SLGnXPs/FOAl7H0JgEhEJLhZDY1tCbSrzhmZrQqAGIgbQpjTMH3xE8kma5WuxA4xIMSl2MWXc6w3HahdTzvzUEB9QpxJnLgf9LTkxOUGlS/TWIg+cotRi5dIEDrYVsfXDhiB8hVh2R+oI17SzEq/ZhtSj3pii8QQAfjOP9JPOf7poziUemQdiknS2ypUWpfrvPrvnkcmEDo39iTbvJrUAL7+uhVTiS5u3qD42SAI96S9YmXV4afu1P8c9lsjHoZwQJg1Lct8olOevkonvuVAPOuRkM7p+NDX+yiIAgzzUSbFzCF8X17OqfSnAdhZyHk0hAcqT4jydGBkdVrULTvWsvR8Wy+OAAAAAElFTkSuQmCC\"","import React, { FormEvent, ReactNode } from 'react';\nimport { default as MuiButton } from '@material-ui/core/Button';\n\nimport s from './Button.module.scss';\n\ninterface ButtonProps {\n    children: ReactNode | string;\n    className?: string;\n    onClick?: (event: FormEvent<HTMLButtonElement>) => void;\n    variant?: \"text\" | \"outlined\" | \"contained\";\n    disabled?: boolean;\n};\n\nexport default function Button({\n    className = '',\n    children,\n    ...props\n}: ButtonProps) {\n    return (\n        <MuiButton {...props} className={`${s.button} ${className}`}>{children}</MuiButton>\n    );\n}\n","import translations from './lang/translations.eng.json';\n\ninterface Attributes {\n    [key: string]: string;\n}\n\nfunction replaceAttributes(label: string, options: Attributes = {}): string {\n    // Replaces any \":key\" with a value in the options\n    return label.replace(/:(\\w+)/gi, (word) => {\n        const key = word.replace(/^:/, '');\n\n        if (options[key] === undefined || options[key] === null) {\n            return '';\n        }\n\n        return options[key];\n    });\n}\n\nexport function ucFirstLetter(text: string): string {\n    return text.charAt(0).toUpperCase() + text.substring(1);\n}\n\n\nexport default function trans(key: string, attributes?: Attributes, uppercaseFirstLetter?: boolean): string {\n    // @ts-ignore\n    const result: string = translations[key];\n\n    if (!result) {\n        return key;\n    }\n\n    const resultWithAttributes = replaceAttributes(result, attributes);\n    return uppercaseFirstLetter ? ucFirstLetter(resultWithAttributes) : resultWithAttributes;\n}\n\nexport function booleanToYesNo(bool = false): string {\n    return bool ? trans('global.yes') : trans('global.no');\n}\n","export enum FetchResultType {\n    Error = 'error',\n    Success = 'success',\n}\n\nexport interface SuccessfulFetchResult<T> {\n    status: number;\n    data: T;\n    type: FetchResultType.Success;\n}\n\nexport interface UnsuccessfulFetchResult<E> {\n    status: number;\n    error: E;\n    type: FetchResultType.Error;\n}\n\nexport type FetchResult<T, E> = SuccessfulFetchResult<T> | UnsuccessfulFetchResult<E>;\n\nexport function isFetchResultSuccesful<T, E>(result: FetchResult<T, E>): result is SuccessfulFetchResult<T> {\n    return result.type === FetchResultType.Success;\n}\n","import BN from 'bn.js';\n\nexport const API_URL = process.env.REACT_APP_API_URL || '';\nexport const NULL_CONTRACT = 'null_contract.flux-dev';\nexport const COINGECKO_API_URL = process.env.REACT_APP_COINGECKO_API_URL || '';\nexport const PROTOCOL_ACCOUNT_ID = process.env.REACT_APP_PROTOCOL_ACCOUNT_ID || 'amm.flux-dev';\nexport const FUNGIBLE_TOKEN_ACCOUNT_ID = process.env.REACT_APP_FUNGIBLE_TOKEN_ACCOUNT_ID || 'ft.flux-dev';\nexport const MAX_GAS = new BN(\"300000000000000\");\nexport const STORAGE_DEFAULT = new BN(\"300800000000000000000000\");\nexport const ONE = new BN((10 ** 18).toString());\nexport const ZERO = new BN(\"0\");\nexport const BUY = \"BUY\";\nexport const SELL = \"SELL\";\nexport const DEFAULT_FEE = 2; // 2%\n\nexport const DEFAULT_LIMIT = 100;\n","import { COINGECKO_API_URL } from \"../config\";\nimport { FetchResult, FetchResultType } from \"../models/FetchResult\";\n\nexport async function getTokenPriceByTicker(ticker: string, currency = 'usd'): Promise<FetchResult<number, string>> {\n    try {\n        const response = await fetch(`${COINGECKO_API_URL}/coins/${ticker}?localization=false`);\n        const data = await response.json();\n\n        return {\n            type: FetchResultType.Success,\n            data: data.market_data.current_price[currency],\n            status: response.status,\n        }\n    } catch (error) {\n        console.error('[getCurrentMainTokenPrice]', error);\n\n        return {\n            type: FetchResultType.Error,\n            error,\n            status: 500,\n        }\n    }\n}\n\n\n","import {\n    Near,\n    connect,\n    WalletConnection,\n    keyStores,\n} from \"near-api-js\";\n\nimport { NULL_CONTRACT } from '../config';\n\nexport interface ConnectConfig {\n    accountId?: string;\n    nearInstance?: Near,\n    walletInstance?: WalletConnection,\n    customNodeUrl?: string\n}\n\ninterface NetworkConfig {\n    networkId: string,\n    nodeUrl: string,\n    contractName: null,\n    walletUrl: string,\n    initialBalance: string\n}\n\nexport function getNetworkConfig(networkName: string, nodeUrl?: string): NetworkConfig {\n    let network: NetworkConfig;\n\n    switch (networkName) {\n        default:\n            network = {\n                networkId: 'testnet',\n                nodeUrl: nodeUrl || 'https://rpc.testnet.near.org',\n                contractName: null,\n                walletUrl: 'https://wallet.testnet.near.org',\n                initialBalance: \"100000000\"\n            };\n    }\n\n    return network;\n}\n\nlet nearInstance: Near;\n\nexport async function connectNear() {\n    if (nearInstance) {\n        return nearInstance;\n    }\n\n    const networkConfig = getNetworkConfig('testnet');\n    nearInstance = await connect({\n        ...networkConfig,\n        deps: {\n            keyStore: new keyStores.BrowserLocalStorageKeyStore(),\n        }\n    });\n\n    return nearInstance;\n}\n\nlet walletConnection: WalletConnection;\n\nexport async function connectWallet(): Promise<WalletConnection> {\n    if (walletConnection) {\n        return walletConnection;\n    }\n\n    const near = await connectNear();\n\n    walletConnection = new WalletConnection(near, NULL_CONTRACT);\n    return walletConnection;\n}\n","// import { utils } from 'near-api-js';\nimport Big from 'big.js';\n\nimport { FUNGIBLE_TOKEN_ACCOUNT_ID } from \"../config\";\nimport { isFetchResultSuccesful } from \"../models/FetchResult\";\nimport { getTokenPriceByTicker } from \"./TokenPriceService\";\nimport { connectNear } from \"./WalletService\";\n\nexport function formatCollateralToken(amount: string, decimals = 18, dp = 2): string {\n    Big.DP = dp;\n    const denominator = new Big(10).pow(decimals);\n    return new Big(amount).div(denominator).toString();\n}\n\nexport function toCollateralToken(amount: string, decimals = 18): string {\n    Big.DP = 0;\n    const denominator = new Big(10).pow(decimals);\n    return new Big(amount).mul(denominator).toString();\n}\n\nexport interface AccountTokenBalance {\n    balance: string;\n    balanceFormatted: string;\n}\n\nexport async function getCollateralTokenBalance(tokenAccountId: string, accountId: string): Promise<AccountTokenBalance> {\n    try {\n        const near = await connectNear();\n        const account = await near.account(accountId);\n\n        // if (tokenAccountId === FUNGIBLE_TOKEN_ACCOUNT_ID) {\n        //     const result = await account.getAccountBalance();\n\n        //     return {\n        //         balance: result.available,\n        //         balanceFormatted: utils.format.formatNearAmount(result.available, 3),\n        //     };\n        // }\n\n        const result = await account.viewFunction(tokenAccountId, 'get_balance', {\n            account_id: accountId,\n        });\n\n        return {\n            balance: result,\n            balanceFormatted: formatCollateralToken(result),\n        };\n    } catch (error) {\n        console.error('[getCollateralTokenBalance]', error);\n        return {\n            balance: '0',\n            balanceFormatted: '0',\n        };\n    }\n}\n\nexport async function getCollateralTokenPrice(tokenAccountId: string): Promise<number> {\n    if (tokenAccountId === FUNGIBLE_TOKEN_ACCOUNT_ID) {\n        const response = await getTokenPriceByTicker('near');\n\n        if (isFetchResultSuccesful(response)) {\n            return response.data;\n        }\n    }\n\n    return 0;\n}\n","import React, { FormEvent, ReactElement, useState } from \"react\";\nimport classnames from 'classnames';\nimport { Link } from \"react-router-dom\";\nimport MuiMenu from '@material-ui/core/Menu';\nimport MuiMenuItem from '@material-ui/core/MenuItem';\n\nimport fluxLogoBlack from '../../assets/images/flux-logo-black.svg';\nimport fluxLogoWhite from '../../assets/images/flux-logo-white.svg';\nimport { useDarkModeThemeContext } from \"../../utils/hooks/useDarkModeTheme\";\nimport Button from \"../../components/Button\";\nimport trans from \"../../translation/trans\";\nimport { Account } from \"../../models/Account\";\n\nimport s from './Menu.module.scss';\nimport { formatCollateralToken } from \"../../services/CollateralTokenService\";\ninterface Props {\n    className?: string;\n    onLoginClick: () => void;\n    onLogoutClick: () => void;\n    onProfileClick: () => void;\n    account: Account | null;\n}\n\nexport default function Menu({\n    onLoginClick,\n    onLogoutClick,\n    onProfileClick,\n    account,\n    className = ''\n}: Props): ReactElement {\n    const { theme } = useDarkModeThemeContext();\n    const [menuAnchorEl, setMenuAnchorEl] = useState<Element | null>(null);\n\n    function handleMenuClick(event: FormEvent) {\n        setMenuAnchorEl(event.currentTarget);\n    }\n\n    function handleMenuClose() {\n        setMenuAnchorEl(null);\n    }\n\n    function handleLogoutClick() {\n        handleMenuClose();\n        onLogoutClick();\n    }\n\n    function handleProfileClick() {\n        handleMenuClose();\n        onProfileClick();\n    }\n\n    return (\n        <header className={classnames(s.menu, className)}>\n            <div className={s.menu__items}>\n                <div className={s.menu__item}>\n                    <Link to=\"/\">\n                        <img\n                            className={s.menu__logo}\n                            src={theme === 'light' ? fluxLogoBlack : fluxLogoWhite}\n                            alt=\"Flux home\"\n                        />\n                    </Link>\n                </div>\n                <div className={s.menu__item} />\n                <div className={classnames(s.menu__item, s['menu__last-item'])}>\n                    {account === null && (\n                        <Button onClick={onLoginClick}>{trans('auth.login')}</Button>\n                    )}\n\n                    {account && (\n                        <>\n                            <Button onClick={handleMenuClick} className={s.accountMenuButton}>\n                                {account.accountId}\n                            </Button>\n                            <MuiMenu anchorEl={menuAnchorEl} keepMounted open={Boolean(menuAnchorEl)} onClose={handleMenuClose}>\n                                <MuiMenuItem disabled>NEAR: {formatCollateralToken(account.balance, 24)} </MuiMenuItem>\n                                <MuiMenuItem onClick={handleProfileClick}>Profile</MuiMenuItem>\n                                <MuiMenuItem onClick={handleLogoutClick}>Logout</MuiMenuItem>\n                            </MuiMenu>\n                        </>\n                    )}\n                </div>\n            </div>\n        </header>\n    );\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Account } from '../../models/Account';\nimport { PoolToken } from '../../models/PoolToken';\nimport { UserBalance } from '../../models/UserBalance';\n\nexport type AccountState = Readonly<{\n    account: Account | null;\n    loading: boolean;\n    poolTokens: PoolToken[];\n    balances: UserBalance[];\n    poolTokenLoading: boolean;\n    errors: string[];\n}>;\n\nconst initialState: AccountState = {\n    account: null,\n    loading: false,\n    poolTokenLoading: false,\n    poolTokens: [],\n    errors: [],\n    balances: [],\n};\n\nconst accountSlice = createSlice({\n    initialState,\n    name: 'account',\n    reducers: {\n        setAccount(state: AccountState, action: PayloadAction<Account | null>): AccountState {\n            return ({\n                ...state,\n                account: action.payload,\n            });\n        },\n        setAccountPoolTokens(state: AccountState, action: PayloadAction<PoolToken[]>): AccountState {\n            return ({\n                ...state,\n                poolTokens: action.payload,\n            });\n        },\n        setAccountLoading(state: AccountState, action: PayloadAction<boolean>): AccountState {\n            return ({\n                ...state,\n                loading: action.payload,\n            });\n        },\n        setAccountPoolTokenLoading(state: AccountState, action: PayloadAction<boolean>): AccountState {\n            return ({\n                ...state,\n                poolTokenLoading: action.payload,\n            });\n        },\n        setAccountBalances(state: AccountState, action: PayloadAction<UserBalance[]>): AccountState {\n            return ({\n                ...state,\n                balances: action.payload,\n            });\n        },\n        setAccountErrors(state: AccountState, action: PayloadAction<string[]>): AccountState {\n            return ({\n                ...state,\n                errors: action.payload,\n            });\n        },\n    },\n});\n\nexport const {\n    setAccount,\n    setAccountErrors,\n    setAccountLoading,\n    setAccountPoolTokenLoading,\n    setAccountPoolTokens,\n    setAccountBalances,\n} = accountSlice.actions;\n\nexport default accountSlice.reducer;\n","import Big from 'big.js';\nimport { formatCollateralToken } from '../services/CollateralTokenService';\nimport trans from '../translation/trans';\nimport { TokenViewModel } from './TokenViewModel';\nimport { GraphUserBalancesItem } from './UserBalance';\n\nexport interface EarnedFeesGraphData {\n    fees: string;\n    outcomeId: number;\n    poolId: string;\n    balance: string;\n    market?: {\n        description: string;\n    }\n}\n\nexport interface GraphAcountBalancesResponse {\n    earned_fees: EarnedFeesGraphData[];\n    balances: GraphUserBalancesItem[];\n}\n\nexport interface PoolToken {\n    outcomeId: number;\n    poolId: string;\n    fees: string;\n    balance: string;\n    balanceFormatted: string;\n    marketDescription: string;\n    marketId: string;\n}\n\nexport function transformToPoolToken(graphData: EarnedFeesGraphData): PoolToken {\n    return {\n        balanceFormatted: formatCollateralToken(graphData.balance),\n        balance: graphData.balance,\n        fees: graphData.fees,\n        marketDescription: graphData.market?.description || '',\n        marketId: graphData.poolId,\n        outcomeId: graphData.outcomeId,\n        poolId: graphData.poolId,\n    }\n}\n\nexport function transformPoolTokenToTokenViewModel(pooltoken: PoolToken): TokenViewModel {\n    return {\n        balance: pooltoken.balance,\n        balanceFormatted: pooltoken.balanceFormatted,\n        decimals: 18,\n        odds: new Big(0),\n        outcomeId: NaN,\n        poolBalance: '0',\n        poolWeight: new Big(0),\n        price: 0,\n        tokenName: trans('global.poolToken'),\n        tokenSymbol: '',\n        weight: 0,\n    };\n}\n","import trans from \"../translation/trans\";\n\nexport interface UserBalance {\n    outcomeId: number;\n    balance: string;\n    marketId: string;\n    marketDescription: string;\n    marketStatus: string;\n    outcomeTag: string;\n}\n\nexport interface GraphUserBalancesItem {\n    balance: string;\n    outcome_id: number;\n    pool_id: string;\n    market?: {\n        description: string;\n        outcome_tags: string[];\n        finalized: boolean;\n        end_time: string;\n        payout_numerator: string[] | null;\n    }\n}\n\nexport interface GraphUserBalanceResponse {\n    balances: GraphUserBalancesItem[];\n}\n\nfunction getMarketStatus(data: GraphUserBalancesItem['market']) {\n    if (!data) {\n        return trans('marketStatus.uknown');\n    }\n\n    const endTime = new Date(parseInt(data.end_time));\n    const now = new Date();\n\n    if (data.finalized && data.payout_numerator !== null) {\n        return trans('marketStatus.finalized');\n    } else if (data.finalized && data.payout_numerator === null) {\n        return trans('marketStatus.invalid');\n    } else if (!data.finalized && now.getTime() >= endTime.getTime()) {\n        return trans('marketStatus.resoluting');\n    } else {\n        return trans('marketStatus.ongoing');\n    }\n}\n\nexport function transformToUserBalance(graphData: GraphUserBalancesItem): UserBalance {\n    return {\n        balance: graphData.balance,\n        outcomeId: graphData.outcome_id,\n        marketId: graphData.pool_id,\n        marketDescription: graphData.market?.description || '',\n        marketStatus: getMarketStatus(graphData.market),\n        outcomeTag: graphData.market?.outcome_tags[graphData.outcome_id] || '',\n    }\n}\n","import { ApolloClient, InMemoryCache, createHttpLink } from '@apollo/client';\nimport { API_URL } from '../config';\n\nconst cache = new InMemoryCache();\nconst link = createHttpLink({\n    uri: API_URL,\n});\n\nexport const graphqlClient = new ApolloClient({\n    cache,\n    link,\n\n    defaultOptions: {\n        watchQuery: {\n            fetchPolicy: 'cache-and-network',\n        }\n    }\n});\n","import { gql } from \"@apollo/client\";\nimport { NULL_CONTRACT } from \"../config\";\nimport { Account } from \"../models/Account\";\nimport { EarnedFeesGraphData, GraphAcountBalancesResponse, PoolToken, transformToPoolToken } from \"../models/PoolToken\";\nimport { GraphUserBalanceResponse, transformToUserBalance, UserBalance } from \"../models/UserBalance\";\nimport trans from \"../translation/trans\";\nimport { graphqlClient } from \"./GraphQLService\";\nimport { connectWallet } from \"./WalletService\";\n\nexport async function signUserIn() {\n    const connectedWallet = await connectWallet();\n\n    connectedWallet.requestSignIn(NULL_CONTRACT, trans('global.appName'));\n}\n\nexport async function getAccountInfo(): Promise<Account | null> {\n    const connectedWallet = await connectWallet();\n\n    if (!connectedWallet.isSignedIn()) {\n        return null;\n    }\n\n    const nearAccount = connectedWallet.account();\n\n    return {\n        accountId: nearAccount.accountId,\n        balance: (await nearAccount.getAccountBalance()).available,\n    };\n}\n\nexport async function signUserOut() {\n    const connectedWallet = await connectWallet();\n    connectedWallet.signOut();\n}\n\ninterface AccountBalancesInfo {\n    poolTokens: PoolToken[];\n    marketBalances: UserBalance[];\n}\n\nexport async function getAccountBalancesInfo(accountId: string): Promise<AccountBalancesInfo> {\n    try {\n        const result = await graphqlClient.query({\n            query: gql`\n                query Account($accountId: String!) {\n                    account: getAccount(accountId: $accountId) {\n                        earned_fees {\n                            fees\n                            outcomeId\n                            poolId\n                            balance\n                            market {\n                                description\n                            }\n                        }\n                        balances {\n                            balance\n                            outcome_id\n                            pool_id\n                            market {\n                                description\n                                outcome_tags\n                                end_time\n                                finalized\n                                payout_numerator\n                            }\n                        }\n                    }\n                }\n            `,\n            variables: {\n                accountId,\n            }\n        });\n\n        const accountBalances: GraphAcountBalancesResponse = result.data.account;\n\n        return {\n            poolTokens: accountBalances.earned_fees.map(transformToPoolToken),\n            marketBalances: accountBalances.balances.map(transformToUserBalance),\n        };\n    } catch (error) {\n        console.error('[getPoolTokensByAccountId]', error);\n        return {\n             poolTokens: [],\n             marketBalances: [],\n        };\n    }\n}\n\nexport async function getBalancesForMarketByAccount(accountId: string, marketId: string): Promise<UserBalance[]> {\n    try {\n        const result = await graphqlClient.query({\n            query: gql`\n                query AccountMarketBalances($accountId: String!, $marketId: String) {\n                    account: getAccount(accountId: $accountId) {\n                        balances(poolId: $marketId) {\n                            balance\n                            outcome_id\n                            pool_id,\n                        }\n                    }\n                }\n            `,\n            variables: {\n                accountId,\n                marketId,\n            }\n        });\n\n        const data: GraphUserBalanceResponse = result.data.account;\n        return data.balances.map(transformToUserBalance);\n} catch (error) {\n    console.error('[getBalancesForMarketByAccount]', error);\n        return [];\n    }\n}\n\nexport async function getPoolBalanceForMarketByAccount(accountId: string, marketId: string): Promise<PoolToken | null> {\n    try {\n        const result = await graphqlClient.query({\n            query: gql`\n                query AccountMarketPoolBalances($accountId: String!, $marketId: String) {\n                    account: getAccount(accountId: $accountId) {\n                        earned_fees(poolId: $marketId) {\n                            balance\n                            fees\n                            outcomeId\n                            poolId\n                        }\n                    }\n                }\n            `,\n            variables: {\n                accountId,\n                marketId,\n            }\n        });\n\n        const data: EarnedFeesGraphData[] = result.data.account.earned_fees;\n\n        if (!data.length) {\n            return null;\n        }\n\n        return transformToPoolToken(data[0]);\n    } catch (error) {\n        console.error('[getBalancesForMarketByAccount]', error);\n        return null;\n    }\n}\n","import React, { ReactElement, useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport Menu from '../../containers/Menu';\nimport { getAccount, signIn, signOut } from '../../redux/account/accountActions';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\n\n\nexport default function MenuConnector(): ReactElement {\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const accountInfo = useSelector((store: Reducers) => store.account.account);\n\n    useEffect(() => {\n        if (!accountInfo) {\n            dispatch(getAccount());\n        }\n    }, [dispatch, accountInfo]);\n\n    const handleLoginClick = useCallback(() => {\n        dispatch(signIn());\n    }, [dispatch]);\n\n    const handleLogoutClick = useCallback(() => {\n        dispatch(signOut());\n    }, [dispatch]);\n\n    const handleProfileClick = useCallback(() => {\n        history.push(routePaths.profile());\n    }, []);\n\n    return (\n        <Menu\n            onLoginClick={handleLoginClick}\n            onLogoutClick={handleLogoutClick}\n            onProfileClick={handleProfileClick}\n            account={accountInfo}\n        />\n    );\n}\n","import { setAccount, setAccountBalances, setAccountLoading, setAccountPoolTokenLoading, setAccountPoolTokens } from \"./account\";\nimport { signUserIn, getAccountInfo, signUserOut, getAccountBalancesInfo } from '../../services/AccountService';\n\nexport function signIn() {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setAccountLoading(true));\n            await signUserIn();\n            dispatch(setAccountLoading(false));\n        } catch (error) {\n            dispatch(setAccountLoading(false));\n            console.error('[signIn]', error);\n        }\n    }\n}\n\nexport function getAccount() {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setAccountLoading(true));\n            const account = await getAccountInfo();\n            dispatch(setAccount(account));\n            dispatch(setAccountLoading(false));\n        } catch (error) {\n            dispatch(setAccountLoading(false));\n            console.error('[getAccount]', error);\n        }\n    }\n}\n\nexport function loadAccountBalanceInfo(accountId: string) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setAccountPoolTokenLoading(true));\n            const accountBalancesInfo = await getAccountBalancesInfo(accountId);\n            dispatch(setAccountPoolTokens(accountBalancesInfo.poolTokens));\n            dispatch(setAccountBalances(accountBalancesInfo.marketBalances));\n            dispatch(setAccountPoolTokenLoading(false));\n        } catch (error) {\n            dispatch(setAccountPoolTokenLoading(false));\n            console.error('[getPoolTokensForAccount]', error);\n        }\n    }\n}\n\nexport function signOut() {\n    return async (dispatch: Function) => {\n        await signUserOut();\n        dispatch(setAccount(null));\n    }\n}\n","import React, { PropsWithChildren, ReactElement } from \"react\";\nimport classnames from 'classnames';\n\nimport Footer from \"../Footer\";\nimport MenuConnector from \"../../connectors/MenuConnector\";\n\nimport styles from './Page.module.scss';\ninterface Props {\n    className?: string;\n    bodyClassName?: string;\n    hasNavigation?: boolean;\n    hasFooter?: boolean;\n    size?: 'large' | 'medium' | 'unrestricted';\n}\n\nexport default function Page({\n    children,\n    hasNavigation = true,\n    hasFooter = true,\n    size = 'medium',\n    className = '',\n    bodyClassName = '',\n}: PropsWithChildren<Props>): ReactElement {\n    const pageBodyClassName = classnames(styles.page__body, bodyClassName, {\n        [styles['page__body--large']]: size === 'large',\n        [styles['page__body--unrestricted']]: size === 'unrestricted',\n    });\n\n    return (\n        <div className={`${styles.page} ${className}`}>\n            {/* Normally don't put connectors in containers.. */}\n            {hasNavigation && <MenuConnector />}\n            <main className={pageBodyClassName}>\n                {children}\n            </main>\n            {hasFooter && <Footer />}\n        </div>\n    );\n}\n","import { TokenViewModel, transformToTokenViewModels } from \"./TokenViewModel\";\nimport { UserBalance } from \"./UserBalance\";\n\nexport enum MarketCategory {\n    Stocks = 'stocks',\n    Esports = 'esports',\n    Meme = 'meme',\n    Politics = 'politics',\n    Viral = 'viral',\n    Crypto = 'crypto',\n    Sports = 'sports',\n    Startups = 'startups',\n    Unknown = 'unknown',\n    Beer = \"beer\"\n}\n\nexport interface GraphMarketResponse {\n    description: string;\n    outcome_tags: string[];\n    end_time: string;\n    extra_info: string;\n    finalized: boolean;\n    id: string;\n    volume: string;\n    categories: string[];\n    payout_numerator?: string[] | null;\n    pool: {\n        public: boolean;\n        owner: string;\n        collateral_token_id: string;\n        pool_balances: {\n            weight: string;\n            outcome_id: number;\n            balance: string;\n            price: number;\n        }[];\n        tokens_info: {\n            is_pool_token: boolean;\n            total_supply: string;\n        }[];\n    }\n}\n\nexport interface MarketViewModel {\n    id: string;\n    finalized: boolean;\n    public: boolean;\n    owner: string;\n    description: string;\n    resolutionDate: Date;\n    volume: string;\n    category: (MarketCategory | string)[];\n    extraInfo: string;\n    collateralTokenId: string;\n    outcomeTokens: TokenViewModel[];\n    collateralToken: TokenViewModel;\n    invalid: boolean;\n    payoutNumerator: string[] | null;\n    poolTokenInfo: {\n        totalSupply: string;\n    };\n}\n\nexport async function transformToMarketViewModel(\n    graphResponse: GraphMarketResponse,\n    collateralToken: TokenViewModel,\n    userBalances: UserBalance[] = [],\n): Promise<MarketViewModel> {\n    const tokensInfo = graphResponse.pool.tokens_info || [];\n    const poolTokenInfo = tokensInfo.find(info => info.is_pool_token);\n    const payoutNumerator = graphResponse.payout_numerator ? graphResponse.payout_numerator : null;\n\n    return {\n        id: graphResponse.id,\n        category: graphResponse.categories || [],\n        description: graphResponse.description,\n        extraInfo: graphResponse.extra_info,\n        finalized: graphResponse.finalized,\n        owner: graphResponse.pool.owner,\n        resolutionDate: new Date(parseInt(graphResponse.end_time)),\n        public: graphResponse.pool.public,\n        volume: graphResponse.volume,\n        collateralTokenId: graphResponse.pool.collateral_token_id,\n        collateralToken,\n        invalid: graphResponse.finalized && payoutNumerator === null,\n        payoutNumerator,\n        outcomeTokens: transformToTokenViewModels(\n            graphResponse.outcome_tags,\n            graphResponse.pool.pool_balances as any,\n            userBalances,\n        ),\n        poolTokenInfo: {\n            totalSupply: poolTokenInfo?.total_supply || '0',\n        }\n    }\n}\n","export default __webpack_public_path__ + \"static/media/circle-crypto.369b0cdb.png\";","export default __webpack_public_path__ + \"static/media/icon-crypto.c48fc772.png\";","export default __webpack_public_path__ + \"static/media/circle-esports.590ba279.png\";","export default __webpack_public_path__ + \"static/media/icon-esports.e99b62e2.png\";","export default __webpack_public_path__ + \"static/media/circle-meme.529c4322.png\";","export default __webpack_public_path__ + \"static/media/icon-meme.3779da1b.png\";","export default __webpack_public_path__ + \"static/media/circle-politics.1414be74.png\";","export default __webpack_public_path__ + \"static/media/icon-politics.b9270914.png\";","export default __webpack_public_path__ + \"static/media/circle-sports.33c5c70f.png\";","export default __webpack_public_path__ + \"static/media/icon-sports.ef9bf0ac.png\";","export default __webpack_public_path__ + \"static/media/circle-startups.fbb6d89b.png\";","export default __webpack_public_path__ + \"static/media/icon-startups.1be65d04.png\";","export default __webpack_public_path__ + \"static/media/circle-stocks.45134b15.png\";","export default __webpack_public_path__ + \"static/media/icon-stockmarket.3ae8c898.png\";","export default __webpack_public_path__ + \"static/media/circle-viral.f35235ce.png\";","export default __webpack_public_path__ + \"static/media/icon-viral.4ba61e8a.png\";","export default __webpack_public_path__ + \"static/media/icon-beer.6e18acab.svg\";","import Big from \"big.js\";\nexport interface PoolBalanceViewModel {\n    outcomeId: number;\n    price: number;\n    weight: number;\n    poolWeight: Big;\n    outcomeLabel: string;\n    poolBalance: string;\n    odds: Big;\n}\n\nexport interface PoolBalanceGraphData {\n    id: string;\n    pool_id: string;\n    outcome_id: number;\n    account_id: string;\n    balance: string;\n    price: number;\n    weight: string;\n    odds: string;\n}\n\nexport function transformToPoolBalanceViewModel(response: PoolBalanceGraphData[], outcomeTags: string[]): PoolBalanceViewModel[] {\n    // @todo write this in a simpler way (start with outcome tags and work your way back)\n    if (!response.length) {\n        return outcomeTags.map((tag, index) => ({\n            outcomeId: index,\n            outcomeLabel: tag,\n            poolWeight: new Big('0'),\n            price: 0,\n            weight: 0,\n            poolBalance: \"0\",\n            odds: new Big(0),\n        }));\n    }\n\n    return response.map((poolBalance) => {\n        const poolWeight = new Big(poolBalance.weight);\n\n        return {\n            outcomeId: poolBalance.outcome_id,\n            outcomeLabel: outcomeTags[poolBalance.outcome_id],\n            price: poolBalance.price,\n            poolWeight,\n            poolBalance: poolBalance.balance,\n            weight: 0,\n            odds: new Big(poolBalance.odds),\n        };\n    }).sort((a, b) => a.outcomeId - b.outcomeId);\n}\n","import Big from \"big.js\";\n\nimport { PoolBalanceGraphData, transformToPoolBalanceViewModel } from \"./PoolBalance\";\nimport { AccountTokenBalance, formatCollateralToken, getCollateralTokenBalance, getCollateralTokenPrice } from '../services/CollateralTokenService';\nimport { UserBalance } from \"./UserBalance\";\n\nexport interface TokenViewModel {\n    tokenName: string;\n    balance: string;\n    balanceFormatted: string;\n    price: number;\n    tokenSymbol: string;\n    outcomeId: number;\n    tokenAccountId?: string;\n    poolWeight: Big;\n    poolBalance: string;\n    weight: number;\n    odds: Big;\n    decimals: number;\n}\n\n/**\n * Generates a short token name (max 3 characters) for a token\n *\n * @export\n * @param {string} tokenName\n * @return {string}\n */\nexport function generateTokenName(tokenName: string): string {\n    if (tokenName.length <= 3) {\n        return tokenName.toUpperCase();\n    }\n\n    const splitted = tokenName.split(' ');\n\n    if (splitted.length === 2) {\n        // Takes the first character of every spaced word\n        // so for Kanye West it would be KW\n        return (splitted[0][0] + splitted[1][0]).toUpperCase();\n    } else if (splitted.length === 3) {\n        // Same but for 3 letters\n        return (splitted[0][0] + splitted[1][0] + splitted[2][0]).toUpperCase();\n    }\n\n    return tokenName.slice(0, 3).toUpperCase();\n}\n\n/**\n * Transforms to a tokenview model shape\n *\n * @export\n * @param {string[]} tags\n * @param {PoolBalanceGraphData[]} [poolBalanceData=[]]\n * @param {UserBalance[]} userBalances\n * @return {TokenViewModel[]}\n */\nexport function transformToTokenViewModels(\n    tags: string[],\n    poolBalanceData: PoolBalanceGraphData[] = [],\n    userBalances: UserBalance[],\n): TokenViewModel[] {\n    const poolBalances = transformToPoolBalanceViewModel(poolBalanceData, tags);\n\n    return tags.map((outcome, outcomeId) => {\n        const poolBalance = poolBalances.find(poolBalance => poolBalance.outcomeId === outcomeId);\n        const userBalance = userBalances.find(userBalance => userBalance.outcomeId === outcomeId);\n\n        return {\n            balance: userBalance?.balance || '0',\n            balanceFormatted: formatCollateralToken(userBalance?.balance || '0'),\n            outcomeId,\n            price: poolBalance?.price || 0,\n            tokenSymbol: generateTokenName(outcome),\n            tokenName: outcome,\n            poolBalance: poolBalance?.poolBalance || \"0\",\n            poolWeight: poolBalance?.poolWeight || new Big(0),\n            weight: poolBalance?.weight || 0,\n            decimals: 18,\n            odds: poolBalance?.odds || new Big(0),\n        };\n    });\n}\n\n/**\n * Used for the collateralToken fills some information to keep the shape of TokenViewModel\n *\n * @export\n * @param {string} collateralTokenAccountId\n * @param {string} [accountId]\n * @param {boolean} [fetchPrice=true]\n * @return {Promise<TokenViewModel>}\n */\nexport async function transformToMainTokenViewModel(collateralTokenAccountId: string, accountId?: string, fetchPrice = true): Promise<TokenViewModel> {\n    let balances: AccountTokenBalance = {\n        balance: '0',\n        balanceFormatted: '0',\n    };\n\n    if (accountId) {\n        balances = await getCollateralTokenBalance(collateralTokenAccountId, accountId);\n    }\n\n    return {\n        balance: balances.balance,\n        balanceFormatted: balances.balanceFormatted,\n        decimals: 18,\n        outcomeId: NaN,\n        poolWeight: new Big(0),\n        price: fetchPrice ? await getCollateralTokenPrice(collateralTokenAccountId) : 0,\n        tokenName: collateralTokenAccountId,\n        tokenSymbol: collateralTokenAccountId,\n        poolBalance: \"\",\n        weight: 0,\n        tokenAccountId: collateralTokenAccountId,\n        odds: new Big(0)\n    };\n}\n","import circleCrypto from '../assets/images/circle-crypto.png';\nimport iconCrypto from '../assets/images/icons/icon-crypto.png';\n\nimport circleEsports from '../assets/images/circle-esports.png';\nimport iconEsports from '../assets/images/icons/icon-esports.png';\n\nimport circleMeme from '../assets/images/circle-meme.png';\nimport iconMeme from '../assets/images/icons/icon-meme.png';\n\nimport circlePolitics from '../assets/images/circle-politics.png';\nimport iconPolitics from '../assets/images/icons/icon-politics.png';\n\nimport circleSports from '../assets/images/circle-sports.png';\nimport iconSports from '../assets/images/icons/icon-sports.png';\n\nimport circleStartups from '../assets/images/circle-startups.png';\nimport iconStartups from '../assets/images/icons/icon-startups.png';\n\nimport circleStocks from '../assets/images/circle-stocks.png';\nimport iconStocks from '../assets/images/icons/icon-stockmarket.png';\n\nimport circleViral from '../assets/images/circle-viral.png';\nimport iconViral from '../assets/images/icons/icon-viral.png';\n\nimport circleBeer from '../assets/images/circle-beer.png';\nimport iconBeer from '../assets/images/icons/icon-beer.svg';\n\nimport { MarketCategory } from \"../models/Market\";\nimport trans from '../translation/trans';\n\ninterface CategoryInfo {\n    icon: string;\n    cardIcon: string;\n    circleIcon: string;\n    category: MarketCategory;\n    title?: string;\n    color: string;\n}\n\nexport default function getCategoryInfo(category?: MarketCategory | string): CategoryInfo {\n    switch (category) {\n        case MarketCategory.Crypto:\n            return {\n                circleIcon: circleCrypto,\n                category,\n                cardIcon: '',\n                icon: iconCrypto,\n                title: trans('market.category.crypto'),\n                color: '#5400FF',\n            };\n        case MarketCategory.Esports:\n            return {\n                circleIcon: circleEsports,\n                category,\n                cardIcon: '',\n                icon: iconEsports,\n                title: trans('market.category.esports'),\n                color: '#4C6BF5',\n            };\n        case MarketCategory.Meme:\n            return {\n                circleIcon: circleMeme,\n                category,\n                cardIcon: '',\n                icon: iconMeme,\n                title: trans('market.category.meme'),\n                color: '#FF00FD',\n            };\n        case MarketCategory.Politics:\n            return {\n                circleIcon: circlePolitics,\n                category,\n                cardIcon: '',\n                icon: iconPolitics,\n                title: trans('market.category.politics'),\n                color: '#0004FF',\n            };\n        case MarketCategory.Sports:\n            return {\n                circleIcon: circleSports,\n                category,\n                cardIcon: '',\n                icon: iconSports,\n                title: trans('market.category.sports'),\n                color: '#FF1958',\n            };\n        case MarketCategory.Startups:\n            return {\n                circleIcon: circleStartups,\n                category,\n                cardIcon: '',\n                icon: iconStartups,\n                title: trans('market.category.startups'),\n                color: '#7400DA',\n            };\n        case MarketCategory.Stocks:\n            return {\n                circleIcon: circleStocks,\n                category,\n                cardIcon: '',\n                icon: iconStocks,\n                title: trans('market.category.stocks'),\n                color: '#C45DFF',\n            };\n        case MarketCategory.Viral:\n            return {\n                circleIcon: circleViral,\n                category,\n                cardIcon: '',\n                icon: iconViral,\n                title: trans('market.category.viral'),\n                color: '#FF009C',\n            };\n        case MarketCategory.Beer:\n            return {\n                circleIcon: circleViral,\n                category,\n                cardIcon: '',\n                icon: iconBeer,\n                title: trans('market.category.beer'),\n                color: '#47A8BD',\n            };\n        default:\n            return {\n                circleIcon: circleStocks,\n                category: MarketCategory.Unknown,\n                cardIcon: '',\n                icon: iconStocks,\n                title: category,\n                color: '#C45DFF',\n            };\n    }\n}\n","import BN from \"bn.js\";\n\nimport { Account, Contract } from \"near-api-js\";\nimport { DEFAULT_FEE, FUNGIBLE_TOKEN_ACCOUNT_ID, MAX_GAS, PROTOCOL_ACCOUNT_ID, STORAGE_DEFAULT } from \"../../config\";\nimport { toCollateralToken } from \"../CollateralTokenService\";\nimport { SwapFormValues } from \"../SwapService\";\nimport { connectWallet } from \"../WalletService\";\n\nclass ProtocolContract {\n    contract: Contract;\n\n    constructor(account: Account) {\n        this.contract = new Contract(account, PROTOCOL_ACCOUNT_ID, {\n            viewMethods: [],\n            changeMethods: ['create_market', 'seed_pool', 'sell', 'exit_pool', 'claim_earnings'],\n        });\n    }\n\n    async createMarket(\n        description: string,\n        outcomes: string[],\n        categories: string[],\n        endDate: Date,\n        extraInfo: string = '',\n    ): Promise<void> {\n        // @ts-ignore\n        this.contract.create_market({\n            description,\n            extra_info: extraInfo,\n            outcomes: outcomes.length,\n            outcome_tags: outcomes,\n            end_time: endDate.getTime().toString(),\n            collateral_token_id: FUNGIBLE_TOKEN_ACCOUNT_ID,\n            categories,\n            swap_fee: toCollateralToken(DEFAULT_FEE.toString(), 16),\n        }, MAX_GAS, STORAGE_DEFAULT);\n    }\n\n    async seedPool(\n        marketId: string,\n        totalIn: string,\n        denormWeights: string[],\n    ): Promise<void> {\n        // @ts-ignore\n        this.contract.seed_pool({\n            market_id: marketId,\n            total_in: totalIn,\n            denorm_weights: denormWeights,\n        }, MAX_GAS, STORAGE_DEFAULT);\n    }\n\n    async exitPool(\n        marketId: string,\n        totalIn: string,\n    ): Promise<void> {\n        // @ts-ignore\n        this.contract.exit_pool({\n            market_id: marketId,\n            total_in: totalIn,\n        }, MAX_GAS, STORAGE_DEFAULT);\n    }\n\n    async sell(\n        marketId: string,\n        values: SwapFormValues\n    ): Promise<void> {\n        // @ts-ignore\n        this.contract.sell({\n            market_id: marketId,\n            collateral_out: values.amountOut,\n            outcome_target: values.fromToken.outcomeId,\n            max_shares_in: new BN(values.amountIn).mul(new BN(\"102\")).div(new BN(\"100\")).toString()\n        }, MAX_GAS, STORAGE_DEFAULT)\n    }\n\n    async claimEarnings(\n        marketId: string,\n    ): Promise<void> {\n        // @ts-ignore\n        this.contract.claim_earnings({\n            market_id: marketId,\n        }, MAX_GAS, STORAGE_DEFAULT)\n    }\n}\n\nlet protocolInstance: ProtocolContract;\n\nexport default async function createProtocolContract(): Promise<ProtocolContract> {\n    if (protocolInstance) {\n        return protocolInstance;\n    }\n\n    const wallet = await connectWallet();\n    protocolInstance = new ProtocolContract(wallet.account());\n\n    return protocolInstance;\n}\n","import { gql } from '@apollo/client';\nimport { format } from 'date-fns';\nimport { DEFAULT_LIMIT } from '../config';\n\nimport { FetchResult, FetchResultType } from '../models/FetchResult';\nimport { GraphMarketResponse, MarketCategory, MarketViewModel, transformToMarketViewModel } from '../models/Market';\nimport { transformToMainTokenViewModel } from '../models/TokenViewModel';\nimport { UserBalance } from '../models/UserBalance';\nimport { getAccountInfo, getBalancesForMarketByAccount } from './AccountService';\nimport createProtocolContract from './contracts/ProtocolContract';\nimport { graphqlClient } from './GraphQLService';\n\nexport interface MarketFormValues {\n    isCategoricalMarket: boolean;\n    categories: MarketCategory[];\n    resolutionDate: Date;\n    description: string;\n    outcomes: string[];\n    extraInfo: string;\n}\n\nexport async function createMarket(values: MarketFormValues): Promise<FetchResult<any, string>> {\n    try {\n        const protocol = await createProtocolContract();\n        const outcomes = values.outcomes.length > 2 ? values.outcomes : ['YES', 'NO'];\n\n        protocol.createMarket(\n            values.description,\n            outcomes,\n            values.categories,\n            values.resolutionDate,\n            values.extraInfo\n        );\n\n        return {\n            type: FetchResultType.Success,\n            data: {},\n            status: 200,\n        }\n    } catch (error) {\n        console.error('[createMarket]', error);\n        return {\n            type: FetchResultType.Error,\n            error,\n            status: 500,\n        }\n    }\n}\n\nexport async function getMarketById(marketId: string): Promise<MarketViewModel | null> {\n    try {\n        const result = await graphqlClient.query({\n            query: gql`\n                query Market($id: String!) {\n                    market: getMarket(marketId: $id) {\n                        pool {\n                            public\n                            owner\n                            collateral_token_id\n                            pool_balances {\n                                weight\n                                outcome_id\n                                balance\n                                price\n                                odds\n                            }\n                            tokens_info {\n                                is_pool_token\n                                total_supply\n                            }\n                        }\n                        description\n                        outcome_tags\n                        end_time\n                        extra_info\n                        finalized\n                        id\n                        volume\n                        categories\n                        payout_numerator\n                    }\n                }\n            `,\n            variables: {\n                id: marketId,\n            }\n        });\n\n        const market: GraphMarketResponse = result.data.market;\n        const account = await getAccountInfo();\n        const accountId = account?.accountId;\n        let balances: UserBalance[] = [];\n\n        if (accountId) {\n            balances = await getBalancesForMarketByAccount(accountId, marketId);\n        }\n\n        const collateralToken = await transformToMainTokenViewModel(market.pool.collateral_token_id, accountId);\n\n        return transformToMarketViewModel(market, collateralToken, balances);\n    } catch (error) {\n        console.error('[getMarketById]', error);\n        return null;\n    }\n\n}\n\nexport interface MarketFilters {\n    categories?: MarketCategory[];\n    expired?: boolean;\n    limit?: number;\n    offset?: number;\n}\n\nexport async function getMarkets(filters: MarketFilters): Promise<MarketViewModel[]> {\n    try {\n        const result = await graphqlClient.query<any>({\n            query: gql`\n                query Markets($expired: Boolean, $categories: [String], $limit: Int, $offset: Int) {\n                    market: getMarkets(filters: { expired: $expired, categories: $categories, limit: $limit, offset: $offset }) {\n                        items {\n                            pool {\n                                public\n                                owner\n                                collateral_token_id\n                                pool_balances {\n                                    weight\n                                    outcome_id\n                                    balance\n                                    price\n                                    odds\n                                }\n                            }\n                            description\n                            outcome_tags\n                            end_time\n                            extra_info\n                            finalized\n                            id\n                            volume\n                            categories\n\n                        }\n                        total\n                    }\n                }\n            `,\n            variables: {\n                expired: filters.expired,\n                categories: filters.categories,\n                limit: filters.limit,\n                offset: filters.offset,\n            }\n        });\n\n        const dummyMainToken = await transformToMainTokenViewModel('');\n        const marketsPromises = result.data.market.items.map((market: GraphMarketResponse) => transformToMarketViewModel(market, dummyMainToken));\n\n        return Promise.all(marketsPromises);\n    } catch (error) {\n        console.error('[getMarketById]', error);\n        return [];\n    }\n}\n\nexport async function getResolutingMarkets(): Promise<MarketViewModel[]> {\n    try {\n        return getMarkets({\n            expired: true,\n        });\n    } catch (error) {\n        console.error('[getMarketById]', error);\n        return [];\n    }\n}\n\nexport async function claimEarningsForMarket(marketId: string) {\n    const protocol = await createProtocolContract();\n    protocol.claimEarnings(marketId);\n}\n\nexport function formatResolutionDate(resolutionDate: Date): string {\n    return format(resolutionDate, 'MMMM d, yyyy HH:mm');\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport { MarketViewModel } from '../../models/Market';\nimport trans from '../../translation/trans';\nimport getCategoryInfo from '../../utils/getCategoryInfo';\nimport { formatResolutionDate } from '../../services/MarketService';\n\nimport s from './MarketInfoCard.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n    className?: string;\n}\n\nexport default function MarketInfoCard({\n    market,\n    className = '',\n}: Props): ReactElement {\n    const categoryInfo = market.category.length ? market.category.map(category => getCategoryInfo(category)) : [getCategoryInfo()];\n\n    return (\n        <div className={classnames(s.root, className)} style={{ backgroundColor: categoryInfo[0].color }}>\n            <div>\n                <span className={s.categoryTitle}>{categoryInfo.map(info => info.title).join(' | ')}</span>\n                <h2 className={s.title}>{market.description}</h2>\n            </div>\n            <img className={s.bubble} src={categoryInfo[0].circleIcon} alt={market.category[0]} />\n            <div className={s.resolutionInfo}>\n                <span>{trans('market.resolutionDate')} <strong>{formatResolutionDate(market.resolutionDate)}</strong></span>\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport MarketInfoCard from '../../components/MarketInfoCard';\nimport { MarketViewModel } from '../../models/Market';\n\nimport s from './MarketResolutionCard.module.scss';\nimport { Link } from 'react-router-dom';\n\ninterface Props {\n    href: string;\n    market: MarketViewModel;\n    className?: string;\n}\n\nexport default function MarketResolutionCard({\n    market,\n    href,\n    className = '',\n}: Props): ReactElement {\n    return (\n        <Link to={href} className={classnames(s.root, className)}>\n            <MarketInfoCard market={market} />\n        </Link>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { MarketViewModel } from '../../models/Market';\nimport { routePaths } from '../../routes';\nimport MarketResolutionCard from '../MarketResolutionCard';\n\nimport s from './MarketResolutionOverview.module.scss';\n\ninterface Props {\n    markets: MarketViewModel[];\n}\n\nexport default function MarketResolutionOverview({\n    markets,\n}: Props): ReactElement {\n    return (\n        <div className={s.root}>\n            {markets.map(market => (\n                <MarketResolutionCard\n                    key={market.id}\n                    href={routePaths.marketDetail(market.id)}\n                    market={market}\n                    className={s.market}\n                />\n            ))}\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { useSelector } from 'react-redux';\nimport MarketResolutionOverview from '../../containers/MarketResolutionOverview';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function MarketResolutionOverviewConnector(): ReactElement {\n    const resolutingMarkets = useSelector((store: Reducers) => store.market.resolutingMarkets);\n\n    return (\n        <MarketResolutionOverview markets={resolutingMarkets} />\n    );\n}\n","import Big from \"big.js\";\n\n// Using Omen's utility functions adjusted where necessary \n\nexport const calcDistributionHint = (initialOdds: number[]): Big[] => {\n    if (initialOdds.some(x => x === 0)) {\n        throw new Error(\"Invalid probability - can't assign a probability of zero to an outcome\");\n    }\n\n    const initialOddsBig = initialOdds.map(x => new Big(x));\n    const product = initialOddsBig.reduce((a, b) => a.mul(b));\n\n    const distributionHint = initialOddsBig\n        .map(o => product.div(o))\n        .map(x => x.mul(1000000).round())\n        .map(x => new Big(x.toString()));\n\n    return distributionHint;\n};\n","import BN from \"bn.js\";\n\nimport { Account, Contract } from \"near-api-js\";\nimport { MAX_GAS, PROTOCOL_ACCOUNT_ID, STORAGE_DEFAULT } from \"../../config\";\nimport { SwapFormValues } from \"../SwapService\";\nimport { connectWallet } from \"../WalletService\";\n\nexport class TokenContract {\n    contract: Contract;\n\n    constructor(account: Account, tokenAccountId: string) {\n        this.contract = new Contract(account, tokenAccountId, {\n            viewMethods: ['get_balance'],\n            changeMethods: ['transfer_with_vault', 'register_account'],\n        });\n    }\n\n    async registerAccount() {\n        // @todo This is very inconvenient for UX\n        // @ts-ignore\n        return this.contract.register_account({\n            account_id: this.contract.account.accountId,\n        },\n            MAX_GAS,\n            STORAGE_DEFAULT,\n        );\n    }\n\n    async getBalance(accountId: string): Promise<void> {\n        // @ts-ignore\n        return this.contract.get_balance({account_id: accountId});\n    }\n\n    async buy(\n        marketId: string,\n        values: SwapFormValues\n    ): Promise<void> {\n        let payload = JSON.stringify({\n            function: \"buy\",\n            args: {\n                market_id: marketId,\n                outcome_target: values.toToken.outcomeId,\n                min_shares_out: new BN(values.amountOut).mul(new BN(\"98\")).div(new BN(\"100\")).toString() // TODO: add default slippage check to amountOut and make it expectedAmountOut\n            }\n        });\n\n        // @ts-ignore\n        return this.contract.transfer_with_vault({\n                receiver_id: PROTOCOL_ACCOUNT_ID,\n                amount: values.amountIn,\n                payload: payload\n            },\n            MAX_GAS,\n            STORAGE_DEFAULT,\n        );\n    }\n\n    async joinPool(marketId: string, amountIn: string) {\n        let payload = JSON.stringify({\n            function: \"join_pool\",\n            args: {\n                market_id: marketId,\n            }\n        });\n\n        // @ts-ignore\n        return this.contract.transfer_with_vault({\n                receiver_id: PROTOCOL_ACCOUNT_ID,\n                amount: amountIn,\n                payload: payload\n            },\n            MAX_GAS,\n            STORAGE_DEFAULT,\n        );\n    }\n\n    async publishPool(marketId: string, amountIn: string) {\n        let payload = JSON.stringify({\n            function: \"publish\",\n            args: {\n                market_id: marketId,\n            }\n        });\n\n        // @ts-ignore\n        return this.contract.transfer_with_vault({\n            receiver_id: PROTOCOL_ACCOUNT_ID,\n            amount: amountIn,\n            payload: payload\n        },\n            MAX_GAS,\n            STORAGE_DEFAULT,\n        );\n    }\n}\n\nlet tokenInstances: Map<string, TokenContract> = new Map();\n\n// @ts-ignore\nwindow.createTokenContract = createTokenContract;\n\nexport default async function createTokenContract(tokenAccountId: string): Promise<TokenContract> {\n    const instance = tokenInstances.get(tokenAccountId)\n    if (instance) {\n        return instance;\n    }\n\n    const wallet = await connectWallet();\n    const newInstance = new TokenContract(wallet.account(), tokenAccountId);\n\n    tokenInstances.set(tokenAccountId, newInstance);\n\n    return newInstance;\n}\n","import { calcDistributionHint } from \"../utils/calcDistributionHint\";\nimport { toCollateralToken } from \"./CollateralTokenService\";\nimport createProtocolContract from \"./contracts/ProtocolContract\";\nimport createTokenContract from \"./contracts/TokenContract\";\n\nexport interface SeedPoolFormValues {\n    outcomePercentages: number[];\n    mainTokenInput: number;\n}\n\nexport async function seedPool(marketId: string, values: SeedPoolFormValues) {\n    const protocol = await createProtocolContract();\n    const weights = calcDistributionHint(values.outcomePercentages);\n\n    protocol.seedPool(\n        marketId,\n        toCollateralToken(values.mainTokenInput.toString()),\n        weights.map(outcome => outcome.toString())\n    );\n}\n\nexport async function publishPool(marketId: string, amountIn: string, tokenId: string) {\n    const token = await createTokenContract(tokenId);\n\n    token.publishPool(marketId, amountIn);\n}\n\nexport async function joinPool(marketId: string, amountIn: string, tokenId: string) {\n    const token = await createTokenContract(tokenId);\n    token.joinPool(marketId, toCollateralToken(amountIn));\n}\n\nexport async function exitPool(marketId: string, amountIn: string) {\n    const token = await createProtocolContract();\n    token.exitPool(marketId, toCollateralToken(amountIn));\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { MarketViewModel } from '../../models/Market';\nimport { PoolToken } from '../../models/PoolToken';\n\nexport type MarketState = Readonly<{\n    markets: MarketViewModel[];\n    resolutingMarkets: MarketViewModel[];\n    marketDetail?: MarketViewModel;\n    marketError?: string[];\n    marketLoading: boolean;\n    editLoading: boolean,\n    poolTokenBalance?: PoolToken;\n}>;\n\nconst initialState: MarketState = {\n    marketLoading: false,\n    editLoading: false,\n    markets: [],\n    resolutingMarkets: [],\n};\n\nconst marketsSlice = createSlice({\n    initialState,\n    name: 'markets',\n    reducers: {\n        setMarketErrors(state: MarketState, action: PayloadAction<string[]>): MarketState {\n            return ({\n                ...state,\n                marketError: action.payload,\n            });\n        },\n        setMarketLoading(state: MarketState, action: PayloadAction<boolean>): MarketState {\n            return ({\n                ...state,\n                marketLoading: action.payload,\n            });\n        },\n        setMarketEditLoading(state: MarketState, action: PayloadAction<boolean>): MarketState {\n            return ({\n                ...state,\n                editLoading: action.payload,\n            });\n        },\n        setMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                markets: action.payload,\n            });\n        },\n        appendMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                markets: [...action.payload, ...state.markets],\n            });\n        },\n        setResolutingMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                resolutingMarkets: action.payload,\n            });\n        },\n        setMarketDetail(state: MarketState, action: PayloadAction<MarketViewModel | undefined>): MarketState {\n            return ({\n                ...state,\n                marketDetail: action.payload,\n            });\n        },\n        setMarketPoolTokenBalance(state: MarketState, action: PayloadAction<PoolToken | undefined>): MarketState {\n            return ({\n                ...state,\n                poolTokenBalance: action.payload,\n            });\n        },\n    },\n});\n\nexport const {\n    setMarketErrors,\n    setMarketLoading,\n    setMarkets,\n    setResolutingMarkets,\n    setMarketDetail,\n    setMarketEditLoading,\n    appendMarkets,\n    setMarketPoolTokenBalance,\n} = marketsSlice.actions;\n\nexport default marketsSlice.reducer;\n","import { getAccountInfo, getPoolBalanceForMarketByAccount } from \"../../services/AccountService\";\nimport { createMarket, getMarketById, getMarkets, getResolutingMarkets, MarketFilters, MarketFormValues } from \"../../services/MarketService\";\nimport { publishPool, seedPool, exitPool, SeedPoolFormValues } from \"../../services/PoolService\";\nimport { appendMarkets, setMarketErrors, setMarketLoading, setMarketDetail, setMarkets, setResolutingMarkets, setMarketEditLoading, setMarketPoolTokenBalance } from \"./market\";\n\nexport function createNewMarket(values: MarketFormValues) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketEditLoading(true));\n\n            await createMarket(values);\n\n            dispatch(setMarketEditLoading(false));\n        } catch (error) {\n            dispatch(setMarketEditLoading(false));\n            console.error('[createNewMarket]', error);\n        }\n    };\n}\n\nexport function fetchMarketById(id: string) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketLoading(true));\n\n            const market = await getMarketById(id);\n\n            if (!market) {\n                dispatch(setMarketErrors(['Could not find market']));\n                return;\n            }\n\n            const account = await getAccountInfo();\n\n            if (account) {\n                const token = await getPoolBalanceForMarketByAccount(account.accountId, id);\n\n                if (token) {\n                    dispatch(setMarketPoolTokenBalance(token));\n                }\n            }\n\n            dispatch(setMarketDetail(market));\n            dispatch(setMarketLoading(false));\n        } catch (error) {\n            dispatch(setMarketLoading(false));\n            console.error('[fetchMarketById]', error);\n        }\n    };\n}\n\nexport function fetchMarkets(filters: MarketFilters, append?: boolean) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketLoading(true));\n\n            const markets = await getMarkets(filters);\n\n            if (append) {\n                dispatch(appendMarkets(markets));\n            } else {\n                dispatch(setMarkets(markets));\n            }\n\n            dispatch(setMarketLoading(false));\n        } catch (error) {\n            dispatch(setMarketLoading(false));\n            console.error('[fetchMarkets]', error);\n        }\n    }\n}\n\nexport function fetchResolutingMarkets() {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketLoading(true));\n\n            const markets = await getResolutingMarkets();\n\n            dispatch(setResolutingMarkets(markets));\n            dispatch(setMarketLoading(false));\n        } catch (error) {\n            dispatch(setMarketLoading(false));\n            console.error('[fetchMarkets]', error);\n        }\n    }\n}\n\nexport function seedPoolAction(marketId: string, values: SeedPoolFormValues) {\n    return async (dispatch: Function) => {\n        await seedPool(marketId, values);\n    }\n}\n\nexport function publishPoolAction(marketId: string, amountIn: string, tokenAccountId: string) {\n    return async (dispatch: Function) => {\n        await publishPool(marketId, amountIn, tokenAccountId);\n    }\n}\n\nexport function exitPoolAction(marketId: string, amountIn: string) {\n    return async (dispatch: Function) => {\n        await exitPool(marketId, amountIn);\n    }\n}\n","import React, { ReactElement, useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useDispatch } from 'react-redux';\nimport MarketResolutionOverviewConnector from '../../../../connectors/MarketResolutionOverviewConnector';\nimport { fetchResolutingMarkets } from '../../../../redux/market/marketActions';\nimport trans from '../../../../translation/trans';\n\n\nexport default function ResolutionPage(): ReactElement {\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(fetchResolutingMarkets());\n    }, [dispatch]);\n\n    return (\n        <section>\n            <Helmet>\n                <title>\n                    {trans('marketResolution.title.head', {\n                        appName: trans('global.appName'),\n                    })}\n                </title>\n            </Helmet>\n            <MarketResolutionOverviewConnector />\n        </section>\n    );\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport Button from '@material-ui/core/Button';\n\nimport { MarketCategory } from '../../models/Market';\nimport getCategoryInfo from '../../utils/getCategoryInfo';\n\nimport s from './Tag.module.scss';\n\ninterface Props {\n    category?: MarketCategory | string;\n    className?: string;\n    active?: boolean;\n    type?: 'label' | 'button';\n    onClick?: () => void;\n}\n\nexport default function Tag({\n    category,\n    onClick,\n    active = false,\n    type = 'label',\n    className = '',\n}: Props) {\n    const categoryInfo = getCategoryInfo(category);\n\n    const rootClassName = classnames(s.root, className, {\n        [s['root--active']]: active,\n    });\n\n    if (type === 'button') {\n        return (\n            <Button onClick={onClick} className={rootClassName}>\n                <span className={s.title}>{categoryInfo.title}</span>\n                <img src={categoryInfo.icon} alt={categoryInfo.title} className={s.icon} />\n            </Button>\n        );\n    }\n\n    return (\n        <div className={rootClassName}>\n            <span className={s.title}>{categoryInfo.title}</span>\n            <img src={categoryInfo.icon} alt={categoryInfo.title} className={s.icon} />\n        </div>\n    );\n}\n","const COLORS = [\n    '--c-green',\n    '--c-red',\n    '--c-light-purple',\n    '--c-pink',\n    '--c-purple',\n    '--c-blue',\n    '--c-medium-blue',\n    '--c-dark-purple',\n];\n\nexport function getColorForOutcome(outcomeId: number) {\n    return COLORS[outcomeId];\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport { getColorForOutcome } from '../../utils/getColorForOutcome';\n\nimport s from './TokenWeightsBar.module.scss';\n\ninterface Props {\n    weights: number[];\n    className?: string;\n}\n\nexport default function TokenWeightsBar({\n    weights,\n    className = '',\n}: Props): ReactElement {\n    return (\n        <div className={classnames(s['token-weights-bar'], className)}>\n            {weights.map((weight, index) => (\n                <span\n                    key={index}\n                    className={s['token-weights-bar__weight']}\n                    style={{\n                        width: `${weight}%`,\n                        backgroundColor: `var(${getColorForOutcome(index)})`,\n                    }}\n                />\n            ))}\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport TokenWeightsBar from '../../components/TokenWeightsBar';\nimport { MarketViewModel } from '../../models/Market';\nimport { formatCollateralToken } from '../../services/CollateralTokenService';\nimport trans from '../../translation/trans';\nimport { getColorForOutcome } from '../../utils/getColorForOutcome';\n\nimport s from './MarketOpinionCard.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n}\n\nexport default function MarketOpinionCard({\n    market,\n}: Props): ReactElement {\n    return (\n        <div className={s.root}>\n            <h2 className={s['title']}>\n                {trans('market.label.opinion')}\n            </h2>\n            <TokenWeightsBar weights={market.outcomeTokens.map(b => b.odds.toNumber() * 100)} className={s['token-weight-bar']} />\n            <div className={s['outcomes-wrapper']}>\n                {market.outcomeTokens.map((outcome, index) => (\n                    <div key={outcome.outcomeId} className={s['outcome']}>\n                        <div className={s['outcome-label-wrapper']}>\n                            <div style={{ backgroundColor: `var(${getColorForOutcome(index)})` }} className={s['color-label']} />\n                            <span>{outcome.tokenName}</span>\n                        </div>\n                        <span>{outcome.odds.mul(100).toNumber().toPrecision(3)}%</span>\n                    </div>\n                ))}\n            </div>\n            <div className={s['volume-wrapper']}>\n                <span>{trans('market.label.totalVolume')}</span>\n                <span>{formatCollateralToken(market.volume)}</span>\n            </div>\n        </div>\n    );\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\n\nimport { MarketViewModel } from '../../models/Market';\nimport MarketInfoCard from '../../components/MarketInfoCard';\n\nimport s from './MarketCard.module.scss';\nimport MarketOpinionCard from '../MarketOpinionCard';\n\ninterface Props {\n    market: MarketViewModel;\n    className?: string;\n    href: string;\n}\n\nexport default function MarketCard({\n    market,\n    href,\n    className = '',\n}: Props) {\n    return (\n        <Link to={href} className={classnames(s.root, className)}>\n            <MarketInfoCard market={market} className={s.infoCard} />\n            <MarketOpinionCard market={market} />\n        </Link>\n    );\n}\n","import React, { ReactElement, useMemo } from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport Tag from '../../components/Tag';\nimport MarketCard from '../../compositions/MarketCard';\nimport { MarketCategory, MarketViewModel } from '../../models/Market';\nimport { routePaths } from '../../routes';\nimport { MarketFilters } from '../../services/MarketService';\n\nimport s from './MarketOverview.module.scss';\n\ninterface Props {\n    markets: MarketViewModel[];\n    loading: boolean;\n    onFilterChange: (filters: MarketFilters) => void;\n    onRequestMoreMarkets: () => void;\n    activeFilters: MarketFilters;\n    hasMoreMarkets: boolean;\n}\n\nexport default function MarketOverview({\n    markets,\n    onFilterChange,\n    onRequestMoreMarkets,\n    activeFilters,\n    loading,\n    hasMoreMarkets,\n}: Props): ReactElement {\n    const marketCategories = useMemo(() => Object.values(MarketCategory).filter(category => category !== MarketCategory.Unknown), []);\n\n    function handleCategoryClick(category: MarketCategory) {\n        let activeCategories = activeFilters.categories;\n\n        if (activeCategories?.includes(category)) {\n            activeCategories = activeCategories.filter(cat => cat !== category);\n        } else {\n            activeCategories?.push(category);\n        }\n\n        onFilterChange({\n            ...activeFilters,\n            categories: activeCategories,\n        });\n    }\n\n    return (\n        <div className={s.root}>\n            <div className={s.filters}>\n                {marketCategories.map((category) => (\n                    <Tag\n                        key={category}\n                        className={s.filter}\n                        category={category}\n                        active={activeFilters.categories?.includes(category)}\n                        onClick={() => handleCategoryClick(category)}\n                        type=\"button\"\n                    />\n                ))}\n            </div>\n            <InfiniteScroll\n                dataLength={markets.length}\n                next={onRequestMoreMarkets}\n                hasMore={hasMoreMarkets}\n                loader={<div />}\n                className={s.markets}\n            >\n                {markets.map(market => (\n                    <MarketCard\n                        key={market.id}\n                        href={routePaths.marketDetail(market.id)}\n                        className={s.market}\n                        market={market}\n                    />\n                ))}\n            </InfiniteScroll>\n\n            <div className={s.markets}>\n                {loading && (\n                    new Array(9).fill('').map((_, index) => (\n                        <div className={s.market} key={index}>\n                            <Skeleton variant=\"rect\" height={288} className={s.skeleton} />\n                            <Skeleton variant=\"rect\" height={100} className={s.skeleton} />\n                        </div>\n                    ))\n                )}\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement, useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router';\nimport MarketOverview from '../../containers/MarketOverview';\nimport { MarketFilters } from '../../services/MarketService';\nimport { MarketCategory } from '../../models/Market';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\nimport { fetchMarkets } from '../../redux/market/marketActions';\nimport { DEFAULT_LIMIT } from '../../config';\n\n\nexport default function MarketOverviewConnector(): ReactElement {\n    const dispatch = useDispatch();\n    const markets = useSelector((store: Reducers) => store.market.markets);\n    const loading = useSelector((store: Reducers) => store.market.marketLoading);\n    const history = useHistory();\n    const location = useLocation();\n    const offset = useRef<number>(0);\n    const [filters, setFilters] = useState<MarketFilters>({\n        categories: [],\n    });\n\n    // Changes just the query params\n    function handleFilterChange(newFilters: MarketFilters) {\n        const queryParams = new URLSearchParams();\n\n        if (newFilters.categories?.length) {\n            newFilters.categories.forEach((category) => {\n                queryParams.append('categories', category.toString());\n            });\n        }\n\n        history.replace(`${routePaths.root()}?${queryParams.toString()}`);\n    }\n\n    // Listens for a query change and adapts the internal state\n    // Gets triggered by the history replace of handleFilterChange\n    useEffect(() => {\n        const queryParams = new URLSearchParams(location.search);\n        const newActiveFilters: MarketFilters = {\n            ...filters,\n            limit: DEFAULT_LIMIT,\n            categories: queryParams.getAll('categories') as MarketCategory[],\n        };\n\n        dispatch(fetchMarkets(newActiveFilters));\n        setFilters(newActiveFilters);\n    }, [location]);\n\n    function handleRequestMoreMarkets() {\n        offset.current += DEFAULT_LIMIT;\n\n        const newActiveFilters: MarketFilters = {\n            ...filters,\n            offset: offset.current,\n            limit: DEFAULT_LIMIT,\n        };\n\n        dispatch(fetchMarkets(newActiveFilters, true));\n    }\n\n    return (\n        <MarketOverview\n            loading={loading}\n            markets={markets}\n            activeFilters={filters}\n            onFilterChange={handleFilterChange}\n            onRequestMoreMarkets={handleRequestMoreMarkets}\n            hasMoreMarkets={markets.length % DEFAULT_LIMIT === 0}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { Helmet } from 'react-helmet';\nimport MarketOverviewConnector from '../../../../connectors/MarketOverviewConnector';\nimport trans from '../../../../translation/trans';\n\n\nexport default function MarketsOverviewPage(): ReactElement {\n    return (\n        <section>\n            <Helmet>\n                <title>\n                    {trans('home.title.head', {\n                        appName: trans('global.appName'),\n                    })}\n                </title>\n            </Helmet>\n            <MarketOverviewConnector />\n        </section>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { DateTimePicker as MuiDateTimePicker } from \"@material-ui/pickers\";\n\nimport s from './DateTimePicker.module.scss';\n\ninterface Props {\n    value: Date;\n    onChange: (date: Date | null) => void;\n}\n\nexport default function DateTimePicker({\n    value,\n    onChange,\n}: Props): ReactElement {\n    return (\n        <MuiDateTimePicker\n            inputVariant=\"outlined\"\n            value={value}\n            className={s.root}\n            onChange={onChange}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\n\nimport s from './Label.module.scss';\n\ninterface Props {\n    text: string;\n}\n\nexport default function Label({\n    text,\n}: Props): ReactElement {\n    return (\n        <label className={s.root}>{text}</label>\n    );\n}\n","import React, { ReactElement } from 'react';\n\nimport Switch from '@material-ui/core/Switch';\n\nimport s from './OptionSwitch.module.scss';\n\ninterface Props {\n    labelA: string;\n    labelB: string;\n    onChange: (checked: boolean) => void;\n    value?: boolean;\n}\n\nexport default function OptionSwitch({\n    labelA,\n    labelB,\n    onChange,\n    value,\n}: Props): ReactElement {\n    return (\n        <span className={s.root}>\n            <span>{labelA}</span>\n            <Switch value={value} onChange={(_, checked) => onChange(checked)} />\n            <span>{labelB}</span>\n        </span>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport s from './TextInput.module.scss';\nimport { InputProps } from '@material-ui/core';\n\ninterface Props {\n    multiline?: boolean;\n    onChange?: (value: string) => void;\n    value?: string;\n    required?: boolean;\n    type?: string;\n    helperText?: string;\n    error?: boolean;\n    InputProps?: Partial<InputProps>\n}\n\nexport default function TextInput({\n    multiline,\n    value,\n    required,\n    onChange = () => {},\n    type = 'text',\n    ...props\n}: Props): ReactElement {\n    return (\n        <TextField\n            {...props}\n            id=\"outlined-multiline-flexible\"\n            multiline={multiline}\n            variant=\"outlined\"\n            className={s.root}\n            value={value}\n            onChange={(event) => onChange(event.target.value)}\n            required={required}\n            type={type}\n        />\n    );\n}\n","import React, { PropsWithChildren } from 'react';\nimport { default as MuiDialog } from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport Button from '../../components/Button';\n\nimport s from './Dialog.module.scss';\nimport trans from '../../translation/trans';\n\ninterface Props {\n    title: string;\n    open: boolean;\n    onRequestClose: () => void;\n    onSubmitClick: () => void;\n}\n\nexport default function Dialog({\n    title,\n    children,\n    open,\n    onRequestClose,\n    onSubmitClick,\n}: PropsWithChildren<Props>) {\n    return (\n        <MuiDialog open={open} classes={{ paper: s.paper }}>\n            <DialogTitle>\n                {title}\n            </DialogTitle>\n            <DialogContent>\n                {children}\n            </DialogContent>\n            <DialogActions>\n                <Button className={s.cancelButton} onClick={onRequestClose}>\n                    {trans('global.action.cancel')}\n                </Button>\n                <Button className={s.confirmButton} onClick={onSubmitClick}>\n                    {trans('global.action.submit')}\n                </Button>\n            </DialogActions>\n        </MuiDialog>\n    );\n}\n","import React, { ReactElement, useState } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport Button from '../../components/Button';\nimport Label from '../../components/Label';\nimport TextInput from '../../components/TextInput';\nimport trans from '../../translation/trans';\n\nimport s from './AddableInputs.module.scss';\n\ninterface Props {\n    onChange: (values: string[]) => void;\n    values: string[];\n}\n\nexport default function AddableInputs({\n    onChange,\n    values,\n}: Props): ReactElement {\n    function handleAddMoreClick() {\n        values.push('');\n        onChange(values);\n    }\n\n    function handleRemoveClick(index: number) {\n        values.splice(index, 1);\n        onChange(values);\n    }\n\n    function handleInputChange(value: string, index: number) {\n        values[index] = value;\n        onChange(values);\n    }\n\n    return (\n        <div>\n            <div className={s.inputs}>\n                {values.map((input, index) => (\n                    <div className={s.input} key={index}>\n                        <Label text={trans('marketCreation.label.outcome', { number: (index + 1).toString() })} />\n                        <div className={s.actions}>\n                            <TextInput value={input} onChange={(value) => handleInputChange(value, index)} />\n                            <IconButton aria-label=\"remove\" className={s.removeIcon} onClick={() => handleRemoveClick(index)}>\n                                <DeleteIcon />\n                            </IconButton>\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            <Button onClick={handleAddMoreClick} className={s.addMoreButton}>{trans('marketCreation.label.addMoreOutcomes')}</Button>\n        </div>\n    );\n}\n","import React, { ReactElement, useMemo, useRef, useState } from 'react';\n\nimport DateTimePicker from '../../components/DateTimePicker';\nimport Label from '../../components/Label';\nimport OptionSwitch from '../../components/OptionSwitch';\nimport Tag from '../../components/Tag';\nimport TextInput from '../../components/TextInput';\nimport Dialog from '../../compositions/Dialog';\nimport { MarketCategory } from '../../models/Market';\nimport { MarketFormValues } from '../../services/MarketService';\nimport trans from '../../translation/trans';\nimport AddableInputs from '../AddableInputs';\nimport createDefaultMarketFormValues from './utils/createDefaultMarketFormValues';\n\nimport s from './MarketCreationDialog.module.scss';\n\ninterface Props {\n    open: boolean;\n    onRequestClose: () => void;\n    onSubmit: (values: MarketFormValues) => void;\n}\n\nexport default function MarketCreationDialog({\n    open,\n    onRequestClose,\n    onSubmit,\n}: Props): ReactElement {\n    const formRef = useRef<HTMLFormElement>(null);\n    const [formValues, setFormValues] = useState(createDefaultMarketFormValues());\n    const marketCategories = useMemo(() => Object.values(MarketCategory).filter(category => category !== MarketCategory.Unknown), []);\n\n    function handleFormSubmit() {\n        onSubmit(formValues);\n    }\n\n    function handleCategoryClick(category: MarketCategory) {\n        let activeCategories = formValues.categories;\n\n        if (activeCategories?.includes(category)) {\n            activeCategories = activeCategories.filter(cat => cat !== category);\n        } else {\n            activeCategories?.push(category);\n        }\n\n        setFormValues({\n            ...formValues,\n            categories: activeCategories,\n        });\n    }\n\n    function handleResolutionDateChange(date: Date | null) {\n        if (!date) return;\n\n        setFormValues({\n            ...formValues,\n            resolutionDate: date,\n        });\n    }\n\n    function handleMarketTypeChange(checked: boolean) {\n        setFormValues({\n            ...formValues,\n            isCategoricalMarket: checked,\n        });\n    }\n\n    function handleOutcomesChange(outcomes: string[]) {\n        setFormValues({\n            ...formValues,\n            outcomes,\n        });\n    }\n\n    function handleDescriptionChange(description: string) {\n        setFormValues({\n            ...formValues,\n            description,\n        });\n    }\n\n    function handleExtraInfoChange(extraInfo: string) {\n        setFormValues({\n            ...formValues,\n            extraInfo,\n        });\n    }\n\n    return (\n        <Dialog open={open} title=\"\" onRequestClose={onRequestClose} onSubmitClick={handleFormSubmit}>\n            <form className={s.filters} ref={formRef}>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.categorySelect')}\n                    </label>\n                    <div className={s.categories}>\n                        {marketCategories.map((category) => (\n                            <Tag\n                                key={category}\n                                category={category}\n                                className={s.filter}\n                                active={formValues.categories.includes(category)}\n                                onClick={() => handleCategoryClick(category)}\n                                type=\"button\"\n                            />\n                        ))}\n                    </div>\n                </div>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.description')}\n                    </label>\n                    <TextInput required multiline onChange={handleDescriptionChange} value={formValues.description} />\n                </div>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.extraInfo')}\n                    </label>\n                    <TextInput required multiline onChange={handleExtraInfoChange} value={formValues.extraInfo} />\n                </div>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.marketType')}\n                    </label>\n                    <OptionSwitch\n                        labelA={trans('marketCreation.label.binary')}\n                        labelB={trans('marketCreation.label.categorical')}\n                        onChange={handleMarketTypeChange}\n                        value={formValues.isCategoricalMarket}\n                    />\n                </div>\n                {formValues.isCategoricalMarket && (\n                    <div className={s.inputsWrapper}>\n                        <Label text={trans('marketCreation.label.outcomes')} />\n                        <AddableInputs onChange={handleOutcomesChange} values={formValues.outcomes} />\n                    </div>\n                )}\n\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.resolutionDate')}\n                    </label>\n\n                    <DateTimePicker\n                        value={formValues.resolutionDate}\n                        onChange={handleResolutionDateChange}\n                    />\n                </div>\n            </form>\n        </Dialog>\n    );\n}\n","import { addDays } from \"date-fns\";\nimport { MarketFormValues } from \"../../../services/MarketService\";\n\nexport default function createDefaultMarketFormValues(): MarketFormValues {\n    return {\n        resolutionDate: addDays(new Date(), 1),\n        categories: [],\n        isCategoricalMarket: false,\n        outcomes: [''],\n        description: '',\n        extraInfo: '',\n    }\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport type DialogsState = Readonly<{\n    isMarketCreationOpen: boolean;\n}>;\n\nconst initialState: DialogsState = {\n    isMarketCreationOpen: false,\n};\n\nconst dialogsSlice = createSlice({\n    initialState,\n    name: 'dialogs',\n    reducers: {\n        setMarketCreationDialogOpen(state: DialogsState, action: PayloadAction<boolean>): DialogsState {\n            return ({\n                ...state,\n                isMarketCreationOpen: action.payload,\n            });\n        },\n    },\n});\n\nexport const {\n    setMarketCreationDialogOpen,\n} = dialogsSlice.actions;\n\nexport default dialogsSlice.reducer;\n","import React, { ReactElement, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport MarketCreationDialog from '../../containers/MarketCreationDialog';\nimport { setMarketCreationDialogOpen } from '../../redux/dialogs/dialogs';\nimport { createNewMarket } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport { MarketFormValues } from '../../services/MarketService';\n\n\nexport default function MarketCreationDialogConnector(): ReactElement {\n    const dispatch = useDispatch();\n    const isDialogOpen = useSelector((store: Reducers) => store.dialogs.isMarketCreationOpen);\n\n    const handleRequestClose = useCallback(() => {\n        dispatch(setMarketCreationDialogOpen(false));\n    }, [dispatch]);\n\n    const handleSubmit = useCallback((market: MarketFormValues) => {\n        dispatch(createNewMarket(market));\n    }, [dispatch]);\n\n    return (\n        <MarketCreationDialog\n            open={isDialogOpen}\n            onRequestClose={handleRequestClose}\n            onSubmit={handleSubmit}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Button from '../../components/Button';\nimport { Account } from '../../models/Account';\nimport trans from '../../translation/trans';\n\nimport s from './HomeHeader.module.scss';\n\ninterface Props {\n    onCreateMarketClick: () => void;\n    account: Account | null;\n}\n\nexport default function HomeHeader({\n    onCreateMarketClick,\n    account,\n}: Props): ReactElement {\n    return (\n        <div className={s.root}>\n            <div className={s.titleWrapper}>\n                <h1 className={s.title}>\n                    {trans('home.title.welcome', {\n                        username: account?.accountId || '',\n                    })}\n                </h1>\n                <span className={s.subTitle}>{trans('home.title.latestTrends')}</span>\n            </div>\n\n            <Button onClick={onCreateMarketClick}>{trans('global.actions.createMarket')}</Button>\n        </div>\n    );\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport HomeHeader from '../../containers/HomeHeader';\nimport { setMarketCreationDialogOpen } from '../../redux/dialogs/dialogs';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function HomeHeaderConnector(): ReactElement {\n    const dispatch = useDispatch();\n    const account = useSelector((store: Reducers) => store.account.account);\n\n    const handleCreateMarketClick = useCallback(() => {\n        dispatch(setMarketCreationDialogOpen(true));\n    }, [dispatch]);\n\n    return (\n        <HomeHeader\n            onCreateMarketClick={handleCreateMarketClick}\n            account={account}\n        />\n    );\n}\n","import React, { PropsWithChildren } from 'react';\n\nimport classnames from 'classnames';\n\nimport s from './LinkButton.module.scss';\nimport { Link } from 'react-router-dom';\n\ninterface Props {\n    href: string;\n    className?: string;\n}\n\nexport default function LinkButton({\n    children,\n    href,\n    className = '',\n    ...props\n}: PropsWithChildren<Props>) {\n    return (\n        <Link to={href} className={classnames(s['link-button'], className)}>\n            {children}\n        </Link>\n    );\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport LinkButton from '../../components/LinkButton';\nimport { MarketViewModel } from '../../models/Market';\nimport { formatResolutionDate } from '../../services/MarketService';\nimport trans from '../../translation/trans';\n\nimport s from './MarketHeader.module.scss';\nimport MarketOpinionCard from '../../compositions/MarketOpinionCard';\nimport Tag from '../../components/Tag';\nimport getCategoryInfo from '../../utils/getCategoryInfo';\n\ninterface Props {\n    market: MarketViewModel;\n    className?: string;\n}\n\nexport default function MarketHeader({\n    market,\n    className = '',\n}: Props) {\n    return (\n        <header className={classnames(s['root'], className)}>\n            <div className={s['wrapper']}>\n                <div className={s.headerItem}>\n                    <LinkButton className={s['market-header__back-button']} href=\"/\">\n                        {trans('navigation.back')}\n                    </LinkButton>\n                    {market.category.length > 0 && (<Tag className={s.categoryTag} category={market.category[0]} />)}\n\n                    <h1 className={s.title}>{market.description}</h1>\n\n                    <div className={s.resolutionDate}>\n                        <span className={s['market-header__resolution-date-title']}>\n                            {trans('market.resolutionDate')} &nbsp;\n                        </span>\n                        <span className={s['market-header__resolution-date-stamp']}>\n                            {formatResolutionDate(market.resolutionDate)}\n                        </span>\n                    </div>\n                </div>\n                <div className={classnames(s.headerItem, s.opinionCardWrapper)}>\n                    <MarketOpinionCard market={market} />\n                </div>\n                <div className={s['bubble']} style={{ backgroundImage: `url(${getCategoryInfo(market.category[0]).circleIcon})` }} />\n            </div>\n        </header>\n    );\n}\n","import React, { ReactElement } from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport s from './MarketHeaderLoader.module.scss';\n\nexport default function MarketHeaderLoader(): ReactElement {\n    return (\n        <div className={s.root}>\n            <div className={s.wrapper}>\n                <Skeleton height={300} className={s.skeleton} />\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { useSelector } from 'react-redux';\nimport MarketHeader from '../../containers/MarketHeader';\nimport MarketHeaderLoader from '../../containers/MarketHeader/MarketHeaderLoader';\nimport { Reducers } from '../../redux/reducers';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function MarketHeaderConnector({\n    className,\n}: Props): ReactElement {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n\n    if (!market) {\n        return <MarketHeaderLoader />;\n    }\n\n    return (\n        <MarketHeader market={market} className={className} />\n    );\n}\n","import React from 'react';\nimport { ReactElement } from 'react';\nimport { MarketViewModel } from '../../models/Market';\nimport trans from '../../translation/trans';\n\nimport s from './MarketResolutionInfo.module.scss';\ninterface Props {\n    market: MarketViewModel;\n}\n\nexport default function MarketResolutionInfo({\n    market,\n}: Props): ReactElement {\n    return (\n        <section className={s.root}>\n            <h2 className={s.title}>{trans('market.label.resolutionInfo')}</h2>\n            <p>{market.extraInfo}</p>\n        </section>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport s from './MarketResolutionInfoLoader.module.scss';\n\nexport default function MarketResolutionInfoLoader(): ReactElement {\n    return (\n        <div>\n            <Skeleton height={200} className={s.skeleton} />\n        </div>\n    );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport MarketResolutionInfo from '../../containers/MarketResolutionInfo';\nimport MarketResolutionInfoLoader from '../../containers/MarketResolutionInfo/MarketResolutionInfoLoader';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function MarketResolutionInfoConnector() {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n\n    if (!market) {\n        return <MarketResolutionInfoLoader />;\n    }\n\n    return (\n        <MarketResolutionInfo market={market} />\n    );\n}\n","export default function getCssVariableValue(key: string): string {\n    return getComputedStyle(document.documentElement).getPropertyValue(key);\n}\n","import React, { useEffect, useRef } from 'react';\nimport { ReactElement } from 'react';\nimport { PriceHistoryData } from '../../models/PriceHistoryData';\nimport generateLineChart, { generateChartData } from './utils/generateLineChart';\n\ninterface Props {\n    pricesHistory: PriceHistoryData[];\n}\n\n\nexport default function LineChart({\n    pricesHistory,\n}: Props): ReactElement {\n    const canvas = useRef<HTMLCanvasElement>(null);\n    const chart = useRef<Chart | null>(null);\n\n    useEffect(() => {\n        if (!canvas.current) {\n            return;\n        }\n\n        chart.current = generateLineChart(canvas.current);\n    }, [canvas]);\n\n    useEffect(() => {\n        if (!chart.current) return;\n\n        chart.current.data = generateChartData(pricesHistory);\n        chart.current.update();\n    }, [chart, pricesHistory]);\n\n    return (\n        <canvas ref={canvas} />\n    );\n}\n","import Chart from 'chart.js';\nimport { PriceHistoryData } from '../../../models/PriceHistoryData';\nimport { getColorForOutcome } from '../../../utils/getColorForOutcome';\nimport getCssVariableValue from '../../../utils/getCssVariableValue';\n\nexport function generateChartData(priceHistoryData: PriceHistoryData[]): Chart.ChartData {\n    const outcomeData: Map<number, number[]> = new Map();\n\n    priceHistoryData.forEach((historyData) => {\n        historyData.dataPoints.forEach((outcomePriceData) => {\n            const outcomeDataPoints = outcomeData.get(outcomePriceData.outcome);\n\n            if (Array.isArray(outcomeDataPoints)) {\n                outcomeDataPoints.push(Number(outcomePriceData.price) * 100);\n            } else {\n                outcomeData.set(outcomePriceData.outcome, [Number(outcomePriceData.price) * 100]);\n            }\n        });\n    });\n\n    const dataSets: Chart.ChartDataSets[] = [];\n\n    outcomeData.forEach((data, outcomeId) => {\n        dataSets.push({\n            data,\n            fill: false,\n            borderWidth: 2,\n            borderColor: `${getCssVariableValue(getColorForOutcome(outcomeId))}`,\n            cubicInterpolationMode: 'monotone',\n        });\n\n        // Dotted line for latest price\n        dataSets.push({\n            data: new Array(data.length).fill(data[data.length - 1]),\n            fill: false,\n            borderWidth: 1,\n            borderColor: `${getCssVariableValue(getColorForOutcome(outcomeId))}`,\n            borderDash: [2, 5],\n            cubicInterpolationMode: 'monotone',\n        });\n    });\n\n    return {\n        labels: priceHistoryData.map(point => point.pointKey),\n        datasets: dataSets,\n    };\n}\n\nexport default function generateLineChart(canvas: HTMLCanvasElement): Chart | null {\n    const context = canvas.getContext('2d');\n    if (!context) return null;\n\n    const chart = new Chart(context, {\n        type: 'line',\n\n        options: {\n            responsive: true,\n\n            legend: {\n                display: false,\n            },\n\n            animation: {\n                duration: 0,\n            },\n\n            elements:{\n                line: {\n                    tension: 0,\n                },\n                point: {\n                    // radius: 0,\n                }\n            },\n\n            scales: {\n                yAxes: [{\n                    type: 'linear',\n                    gridLines: {\n                        color: '#d8d8d8',\n                        drawOnChartArea: false,\n                        drawTicks: false,\n                    },\n                    ticks: {\n                        fontColor: 'white',\n                        min: 0,\n                        max: 100,\n                        maxTicksLimit: 6,\n                        stepSize: 25,\n                        padding: 10,\n                        callback: (value) => (Number(value) / 100).toFixed(2),\n                    }\n                }],\n                xAxes: [{\n                    gridLines: {\n                        color: '#d8d8d8',\n                        drawOnChartArea: false,\n                        drawTicks: false,\n                    },\n                    ticks: {\n                        fontColor: 'white',\n                        padding: 10,\n                    }\n                }],\n            },\n        },\n    });\n\n    return chart;\n}\n\n","import React, { ReactElement } from 'react';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport {default as MuiToggleButton} from '@material-ui/lab/ToggleButton';\n\nimport s from './ToggleButtons.module.scss';\n\ninterface Props {\n    items: {\n        text: string,\n        id: string,\n    }[],\n    value: string;\n    exclusive?: boolean;\n    onChange: (value: any) => void;\n}\n\nexport default function ToggleButtons({\n    items,\n    value,\n    onChange,\n    exclusive,\n}: Props): ReactElement {\n    return (\n        <ToggleButtonGroup exclusive={exclusive} value={value} onChange={(_, v) => onChange(v)}>\n            {items.map((item) => (\n                <MuiToggleButton key={item.id} className={s.button} classes={{ selected: s.selected }} value={item.id}>\n                    {item.text}\n                </MuiToggleButton>\n            ))}\n        </ToggleButtonGroup>\n    );\n}\n","import { gql } from '@apollo/client';\nimport { subDays, subMonths, subWeeks } from 'date-fns';\nimport { PriceHistoryData } from '../models/PriceHistoryData';\nimport { graphqlClient } from './GraphQLService';\n\nexport enum Period {\n    OneDay = '1d',\n    OneWeek = '1w',\n    OneMonth = '1m',\n    ThreeWeeks = '3w',\n    All = 'all',\n}\n\nexport async function getPricesHistoryByMarketId(marketId: string, period: Period): Promise<PriceHistoryData[]> {\n    try {\n        const now = new Date();\n        let chosenPeriondDate = new Date();\n        let metric = 'month';\n\n        switch(period) {\n            case Period.OneDay:\n                chosenPeriondDate = subDays(now, 1);\n                metric = 'hour'\n                break;\n            case Period.OneWeek:\n                chosenPeriondDate = subWeeks(now, 1);\n                metric = 'day';\n                break;\n            case Period.ThreeWeeks:\n                chosenPeriondDate = subWeeks(now, 3);\n                metric = 'day';\n                break;\n            case Period.OneMonth:\n                chosenPeriondDate = subMonths(now, 1);\n                metric = 'day';\n                break;\n            case Period.All:\n                chosenPeriondDate = new Date(0);\n                metric = 'week'\n                break;\n        }\n\n        const result = await graphqlClient.query({\n            fetchPolicy: 'network-only',\n            query: gql`\n                query MarketPriceHistory($marketId: String!, $beginTimestamp: String!, $dateMetric: DateMetric) {\n                    history: getPriceHistory(poolId: $marketId, beginTimestamp: $beginTimestamp, dateMetric: $dateMetric) {\n                        pointKey\n                        dataPoints {\n                            outcome\n                            price\n                        }\n                    }\n                }\n            `,\n            variables: {\n                marketId,\n                beginTimestamp: chosenPeriondDate.getTime().toString(),\n                dateMetric: metric,\n            }\n        });\n\n        return result.data.history;\n    } catch (error) {\n        console.error('[getMarketById]', error);\n        return [];\n    }\n}\n","import React, { ReactElement, useState } from 'react';\nimport classnames from 'classnames';\n\nimport s from './MarketStatistics.module.scss';\nimport LineChart from '../LineChart';\nimport { PriceHistoryData } from '../../models/PriceHistoryData';\nimport ToggleButtons from '../../components/ToggleButtons';\nimport trans from '../../translation/trans';\nimport { Period } from '../../services/PricesHistoryService';\n\ninterface Props {\n    className?: string;\n    pricesHistory: PriceHistoryData[];\n    onPeriodChange: (period: Period) => void;\n}\n\nexport default function MarketStatistics({\n    pricesHistory,\n    onPeriodChange,\n    className = '',\n}: Props): ReactElement {\n    const [selectedPeriod, setSelectedPeriod] = useState(Period.All);\n\n    function handlePeriodChange(period: Period | null) {\n        if (!period) return;\n\n        setSelectedPeriod(period);\n        onPeriodChange(period);\n    }\n\n    return (\n        <div className={classnames(s['market-statistics'], className)}>\n            <div className={s.timePeriodButtons}>\n                <ToggleButtons\n                    exclusive\n                    value={selectedPeriod}\n                    onChange={handlePeriodChange}\n                    items={[\n                        {\n                            id: Period.OneDay,\n                            text: trans('priceHistory.labels.1d'),\n                        },\n                        {\n                            id: Period.OneWeek,\n                            text: trans('priceHistory.labels.1w'),\n                        },\n                        {\n                            id: Period.ThreeWeeks,\n                            text: trans('priceHistory.labels.3w'),\n                        },\n                        {\n                            id: Period.OneMonth,\n                            text: trans('priceHistory.labels.1m'),\n                        },\n                        {\n                            id: Period.All,\n                            text: trans('priceHistory.labels.all'),\n                        }\n                    ]}\n                />\n            </div>\n            <LineChart pricesHistory={pricesHistory} />\n        </div>\n    )\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { PriceHistoryData } from '../../models/PriceHistoryData';\n\nexport type PriceHistoryState = Readonly<{\n    pricesHistory: PriceHistoryData[];\n    pricesError?: string[];\n    pricesLoading: boolean;\n}>;\n\nconst initialState: PriceHistoryState = {\n    pricesHistory: [],\n    pricesLoading: false,\n};\n\nconst pricesHistorySlice = createSlice({\n    initialState,\n    name: 'pools',\n    reducers: {\n        setPriceHistoryErrors(state: PriceHistoryState, action: PayloadAction<string[]>): PriceHistoryState {\n            return ({\n                ...state,\n                pricesError: action.payload,\n            });\n        },\n        setPriceHistoryLoading(state: PriceHistoryState, action: PayloadAction<boolean>): PriceHistoryState {\n            return ({\n                ...state,\n                pricesLoading: action.payload,\n            });\n        },\n        setPricesHistory(state: PriceHistoryState, action: PayloadAction<PriceHistoryData[]>): PriceHistoryState {\n            return ({\n                ...state,\n                pricesHistory: action.payload,\n            });\n        },\n    },\n});\n\nexport const {\n    setPriceHistoryErrors,\n    setPriceHistoryLoading,\n    setPricesHistory,\n} = pricesHistorySlice.actions;\n\nexport default pricesHistorySlice.reducer;\n","import { getPricesHistoryByMarketId, Period } from \"../../services/PricesHistoryService\";\nimport { setPriceHistoryLoading, setPricesHistory } from \"./priceHistory\";\n\nexport function fetchPricesHistoryByMarketId(marketId: string, period: Period = Period.All) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setPriceHistoryLoading(true));\n\n            const pricesHistory = await getPricesHistoryByMarketId(marketId, period);\n            dispatch(setPricesHistory(pricesHistory));\n\n            dispatch(setPriceHistoryLoading(false));\n        } catch (error) {\n            dispatch(setPriceHistoryLoading(false));\n            console.error('[getPricesHistoryByMarketId]', error);\n        }\n    };\n}\n","import React, { ReactElement, useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport MarketStatistics from '../../containers/MarketStatistics';\nimport { fetchPricesHistoryByMarketId } from '../../redux/priceHistory/priceHistoryActions';\nimport { Reducers } from '../../redux/reducers';\nimport { Period } from '../../services/PricesHistoryService';\n\nconst PRICE_HISTORY_INTERVAL_MS = 2000;\ninterface Props {\n    className?: string;\n}\n\nexport default function MarketStatisticsConnector({\n    className = '',\n}: Props): ReactElement {\n    const pricesHistory = useSelector((store: Reducers) => store.priceHistory.pricesHistory);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const intervalId = useRef<NodeJS.Timeout>();\n    const dispatch = useDispatch();\n\n    function handlePeriodChange(period: Period) {\n        if (!market) throw new Error('ERR_NO_MARKET');\n\n        // @ts-ignore\n        clearInterval(intervalId.current);\n        dispatch(fetchPricesHistoryByMarketId(market.id, period));\n\n        intervalId.current = setInterval(() => {\n            dispatch(fetchPricesHistoryByMarketId(market.id, period));\n        }, PRICE_HISTORY_INTERVAL_MS);\n    }\n\n    useEffect(() => {\n        if (!market) return;\n\n        // @ts-ignore\n        clearInterval(intervalId.current);\n        dispatch(fetchPricesHistoryByMarketId(market.id));\n\n        intervalId.current = setInterval(() => {\n            dispatch(fetchPricesHistoryByMarketId(market.id));\n        }, PRICE_HISTORY_INTERVAL_MS);\n\n        return () => {\n            // @ts-ignore\n            clearInterval(intervalId.current);\n        };\n    }, [market, dispatch]);\n\n    return (\n        <MarketStatistics\n            pricesHistory={pricesHistory}\n            className={className}\n            onPeriodChange={handlePeriodChange}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { default as MuiIconButton } from '@material-ui/core/IconButton';\nimport classnames from 'classnames';\n\nimport s from './IconButton.module.scss';\n\ninterface Props {\n    icon: string;\n    alt: string;\n    onClick: () => void;\n    className?: string;\n}\n\n\nexport default function IconButton({\n    icon,\n    alt,\n    onClick,\n    className = '',\n}: Props): ReactElement {\n    return (\n        <MuiIconButton onClick={onClick} className={classnames(s['icon-button'], className)}>\n            <img src={icon} alt={alt} />\n        </MuiIconButton>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport { generateTokenName } from '../../models/TokenViewModel';\n\nimport s from './Token.module.scss';\n\ninterface Props {\n    className?: string;\n    tokenName: string;\n}\n\nexport default function Token({\n    tokenName,\n    className = '',\n}: Props): ReactElement {\n    return (\n        <div className={classnames(s.token, className)}>\n            {generateTokenName(tokenName)}\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport s from './NonLinkButton.module.scss';\n\ntype HTMLButtonProps = JSX.IntrinsicElements['button'];\n\ninterface Props extends HTMLButtonProps {\n\n}\n\nexport default function NonLinkButton({\n    children,\n    className = '',\n    ...props\n}: Props): ReactElement {\n    return (\n        <button {...props} className={classnames(s['non-link-button'], className)}>\n            {children}\n        </button>\n    );\n}\n","import React from 'react';\nimport Token from '../../../../components/Token';\nimport { TokenViewModel } from '../../../../models/TokenViewModel';\nimport trans from '../../../../translation/trans';\n\nimport s from './TokenDropdown.module.scss';\n\ninterface Props {\n    tokens: TokenViewModel[];\n    onTokenClick: (token: TokenViewModel) => void;\n}\n\nexport default function TokenDropdown({\n    tokens,\n    onTokenClick,\n}: Props) {\n    return (\n        <div className={s['token-dropdown']}>\n            <div className={s['token-dropdown__fake-top']} />\n            <div className={s['token-dropdown__content']}>\n                <div className={s['token-dropdown__balance']}>\n                    {trans('global.balance')}\n                </div>\n                <div className={s['token-dropdown__tokens']}>\n                    {tokens.map((token) => (\n                        <button key={token.tokenName} onClick={() => onTokenClick(token)} className={s['token-dropdown__token']}>\n                            <div className={s['token-dropdown__token-info']}>\n                                <Token tokenName={token.tokenName} className={s['token-dropdown__token-icon']} />\n                                <span>{token.tokenName}</span>\n                            </div>\n                            <div className={s['token-dropdown__token-balance']}>\n                                {token.balance}\n                            </div>\n                        </button>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React, { useCallback, useState } from 'react';\nimport classnames from 'classnames';\n\nimport { TokenViewModel } from '../../models/TokenViewModel';\n\nimport s from './TokenSelect.module.scss';\nimport trans from '../../translation/trans';\nimport Token from '../../components/Token';\nimport NonLinkButton from '../../components/NonLinkButton';\nimport TokenDropdown from './components/TokenDropdown/TokenDropdown';\n\ninterface Props {\n    className?: string;\n    selectedToken: TokenViewModel;\n    tokens: TokenViewModel[];\n    value: string;\n    error?: string;\n    showPrice?: boolean;\n    onValueChange: (newValue: string) => void;\n    onTokenSwitch: (token: TokenViewModel) => void;\n}\n\nexport default function TokenSelect({\n    selectedToken,\n    tokens,\n    value,\n    onTokenSwitch,\n    onValueChange,\n    showPrice = true,\n    className = '',\n}: Props) {\n    const [isDropdownOpen, setDropdownOpen] = useState(false);\n\n    const handleChangePairClick = useCallback(() => {\n        setDropdownOpen(!isDropdownOpen);\n    }, [isDropdownOpen]);\n\n    const handleTokenClick = useCallback((token: TokenViewModel) => {\n        setDropdownOpen(false);\n        onTokenSwitch(token);\n    }, [onTokenSwitch]);\n\n    return (\n        <div className={classnames(s['token-select'], className)}>\n            <div className={s['token-select__info']}>\n                <span>{selectedToken.tokenName} {trans('global.token')}</span>\n                {showPrice && <span>${selectedToken.price}</span>}\n                {!showPrice && <span />}\n            </div>\n            <div className={s['token-select__inputs']}>\n                <div className={s['token-select__inputs-info']}>\n                    <Token tokenName={selectedToken.tokenName} className={s['token-select__token-icon']} />\n\n                    {tokens.length === 1 && (\n                        <span className={s['token-select__token-name']}>{selectedToken.tokenName}</span>\n                    )}\n\n                    {tokens.length > 1 && (\n                        <NonLinkButton type=\"button\" onClick={handleChangePairClick}>\n                            {isDropdownOpen ? trans('global.action.cancel') : trans('market.action.changeTradingPair')}\n                        </NonLinkButton>\n                    )}\n                </div>\n                <input\n                    type=\"number\"\n                    value={value}\n                    placeholder=\"0\"\n                    className={s['token-select__input']}\n                    onChange={(e) => onValueChange(e.target.value)}\n                />\n            </div>\n            {tokens.length > 1 && isDropdownOpen && (\n                <TokenDropdown onTokenClick={handleTokenClick} tokens={tokens} />\n            )}\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport trans from '../../../../translation/trans';\n\nimport s from './SwapOverview.module.scss';\n\n\nexport default function SwapOverview(): ReactElement {\n    return (\n        <div className={s['swap-overview']}>\n            <div className={s['swap-overview__info-row']}>\n                <span className={s['swap-overview__info-key']}>{trans('market.overview.rate')}</span>\n                <span className={s['swap-overview__info-value']}>Key</span>\n            </div>\n\n            <div className={s['swap-overview__info-row']}>\n                <span className={s['swap-overview__info-key']}>{trans('market.overview.inverseRate')}</span>\n                <span className={s['swap-overview__info-value']}>Key</span>\n            </div>\n\n            <div className={s['swap-overview__info-row']}>\n                <span className={s['swap-overview__info-key']}>{trans('market.overview.estimatedFee')}</span>\n                <span className={s['swap-overview__info-value']}>Key</span>\n            </div>\n        </div>\n    );\n}\n","import Big from \"big.js\";\n\nconst ONE = new Big(10 ** 18);\nconst ZERO = new Big(0);\n\nconst ceilDiv = (a: Big, b: Big): Big => {\n    return a.mod(b) === ZERO ? a.div(b) : a.div(b).add(1);\n};\n\nconst mulBN = (a: Big, b: number, scale = 10000): Big => {\n  return new Big(a)\n    .mul(Math.round(b * scale))\n    .div(scale);\n};\n\n/**\n * Computes the amount of shares that will be bought with `investmentAmount` amount collateral.\n *\n * @param investmentAmount The amount of collateral being put into the market maker\n * @param outcomeIndex The index of the outcome being bought\n * @param poolBalances How many tokens the market maker has of each outcome\n * @param fee The fee of the market maker, between 0 and 1\n */\n\nexport const calcBuyAmountInShares = (\n  investmentAmount: Big,\n  outcomeIndex: number,\n  poolBalances: Big[],\n  fee: number,\n): Big => {\n  Big.DP = 0;\n  if (outcomeIndex < 0 || outcomeIndex >= poolBalances.length) {\n    throw new Error(`Outcome index '${outcomeIndex}' must be between 0 and '${poolBalances.length - 1}'`);\n  }\n  if (investmentAmount.eq(0) || poolBalances.every(x => x.eq(0))) return ZERO;\n\n  const investmentAmountMinusFees = mulBN(investmentAmount, 1 - fee);\n\n  console.log(investmentAmountMinusFees.toString())\n  \n  const newOutcomeBalance = poolBalances.reduce(\n    (accumulator, poolBalance, i) => \n      i !== outcomeIndex\n        ? ceilDiv(accumulator.mul(poolBalance), poolBalance.add(investmentAmountMinusFees))\n        : accumulator.mul(poolBalance),\n    ONE,\n  );\n\n  return poolBalances[outcomeIndex].add(investmentAmountMinusFees).sub(ceilDiv(newOutcomeBalance, ONE));\n};\n","import { DEFAULT_FEE } from \"../../../config\";\nimport { TokenViewModel } from \"../../../models/TokenViewModel\";\nimport { formatCollateralToken } from \"../../../services/CollateralTokenService\";\nimport { calcBuyAmountInShares } from \"../../../utils/calcBuyAmountInShares\";\nimport { SwapFormValues } from \"./../../../services/SwapService\";\nimport Big from \"big.js\";\nimport { calcSellAmountInCollateral } from \"../../../utils/calcSellAmountOut\";\n\nexport default function mutateFormValues(formValues: SwapFormValues, tokens: TokenViewModel[]): SwapFormValues {\n    if (!formValues.formattedAmountIn) {\n        return formValues;\n    }\n\n    const poolBalances = tokens.map(token => new Big(token.poolBalance.toString()));\n    const buy = !!formValues.fromToken.tokenAccountId;\n    const formattedFee = DEFAULT_FEE / 100;\n\n    const amountOut = buy ? calcBuyAmountInShares(\n            new Big(formValues.amountIn),\n            formValues.toToken.outcomeId,\n            poolBalances,\n            formattedFee\n        ) :\n        calcSellAmountInCollateral(\n            new Big(formValues.amountIn),\n            formValues.fromToken.outcomeId,\n            poolBalances,\n            formattedFee\n        )\n\n    if (!amountOut) {\n        return {\n            ...formValues,\n            formattedAmountOut: \"0\",\n            amountOut: \"0\"\n        }\n    }\n\n    return {\n        ...formValues,\n        formattedAmountOut: formatCollateralToken(amountOut.toString()),\n        amountOut: amountOut.toString()\n    };\n}\n","import Big from \"big.js\";\nimport { newtonRaphson } from \"@fvictorio/newton-raphson-method\";\n\n/** Using Omen's utility functions adjusted where necessary  **/\n/**\n * Computes the amount of collateral that needs to be sold to get `shares` amount of shares. Returns null if the amount\n * couldn't be computed.\n *\n * @param sharesToSell The amount of shares that need to be sold\n * @param holdings How many tokens the market maker has of the outcome that is being sold\n * @param otherHoldings How many tokens the market maker has of the outcomes that are not being sold\n * @param fee The fee of the market maker, between 0 and 1\n */\nexport const calcSellAmountInCollateral = (\n    sharesToSell: Big,\n    outcomeId: number,\n    poolBalances: Big[],\n    fee: number,\n): Big | null => {\n    Big.DP = 90;\n    if (outcomeId < 0 || outcomeId >= poolBalances.length) {\n        throw new Error(`Outcome index '${outcomeId}' must be between 0 and '${poolBalances.length - 1}'`);\n    }\n\n    const holdings = poolBalances[outcomeId];\n    const otherHoldings = poolBalances.filter((_, i) => outcomeId !== i);\n    const f = (r: Big): Big => {\n        // For three outcomes, where the first outcome is the one being sold, the formula is:\n        // f(r) = ((y - R) * (z - R)) * (x  + a - R) - x*y*z\n        // where:\n        //   `R` is r / (1 - fee)\n        //   `x`, `y`, `z` are the market maker holdings for each outcome\n        //   `a` is the amount of outcomes that are being sold\n        //   `r` (the unknown) is the amount of collateral that will be returned in exchange of `a` tokens\n        const R = r.div(1 - fee)\n        const firstTerm = otherHoldings.map(h => h.minus(R)).reduce((a, b) => a.mul(b));\n        const secondTerm = holdings.plus(sharesToSell).minus(R);\n        const thirdTerm = otherHoldings.reduce((a, b) => a.mul(b), holdings);\n        return firstTerm.mul(secondTerm).minus(thirdTerm)\n    };\n\n    const r = newtonRaphson(f, 0, { maxIterations: 100 });\n\n    if (r) {\n        const amountToSell = new Big(r.toFixed(0));\n        return amountToSell;\n    }\n\n    return null;\n};\n","import React, { ReactElement, useState } from 'react';\nimport classnames from 'classnames';\n\nimport Button from '../../components/Button';\nimport IconButton from '../../components/IconButton';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport trans from '../../translation/trans';\nimport TokenSelect from '../TokenSelect';\nimport SwapOverview from './components/SwapOverview/SwapOverview';\n\nimport s from './TokenSwapper.module.scss';\nimport createDefaultSwapFormValues from './utils/createDefaultSwapFormValues';\nimport { SwapFormValues } from '../../services/SwapService';\nimport mutateFormValues from './utils/formValuesMutation';\nimport { MarketViewModel } from '../../models/Market';\nimport { toCollateralToken } from '../../services/CollateralTokenService';\n\ninterface TokenSwapperProps {\n    inputs: TokenViewModel[];\n    outputs: TokenViewModel[];\n    onRequestSwitchPairs: () => void;\n    onConfirm: (formData: SwapFormValues) => Promise<void>;\n    className?: string;\n    market: MarketViewModel\n}\n\nexport default function TokenSwapper({\n    inputs,\n    outputs,\n    onConfirm,\n    onRequestSwitchPairs,\n    className = '',\n}: TokenSwapperProps): ReactElement {\n    const [formValues, setFormValues] = useState(createDefaultSwapFormValues(inputs[0], outputs[0]));\n\n    function handleSubmit(mutatedValues: SwapFormValues) {\n        onConfirm(mutatedValues);\n    }\n\n    function handleInputTokenSwitch(token: TokenViewModel) {\n        setFormValues({\n            ...formValues,\n            fromToken: token\n        });\n    }\n\n    function handleOutputTokenSwitch(token: TokenViewModel) {\n        setFormValues({\n            ...formValues,\n            toToken: token\n        });\n    }\n\n    function handleAmountInChange(value: string) {\n        setFormValues({\n            ...formValues,\n            formattedAmountIn: value,\n            amountIn: value ? toCollateralToken(value) : \"\"\n        });\n    }\n\n    function handleAmountOutChange(value: string) {\n        // TODO: remove this fn\n    }\n\n    function switchTokenPlaces() {\n        setFormValues({\n            ...formValues,\n            amountIn: formValues.amountOut,\n            amountOut: formValues.amountIn,\n            fromToken: formValues.toToken,\n            toToken: formValues.fromToken,\n        });\n        onRequestSwitchPairs();\n    }\n\n\n    const poolTokens = outputs.length > 1 ? outputs : inputs;\n    const mutation = mutateFormValues(formValues, poolTokens);\n\n    return (\n        <form className={classnames(s['token-swapper'], className)}>\n            <div className={s['token-swapper__token']}>\n                <div className={s['token-swapper__token-header']}>\n                    <span>{trans('market.label.youPay')}</span>\n                    <span>{trans('global.balance', {}, true)}: {mutation.fromToken.balanceFormatted}</span>\n                </div>\n                <TokenSelect\n                    onTokenSwitch={handleInputTokenSwitch}\n                    value={mutation.formattedAmountIn}\n                    tokens={inputs}\n                    selectedToken={mutation.fromToken}\n                    onValueChange={(v) => handleAmountInChange(v)}\n                />\n            </div>\n\n            <div className={s['token-swapper__switch-tokens']}>\n                <IconButton onClick={switchTokenPlaces} icon=\"/assets/icons/swap.svg\" alt={trans('market.action.switchTokens')} />\n            </div>\n\n            <div className={s['token-swapper__token']}>\n                <div className={s['token-swapper__token-header']}>\n                    <span>{trans('market.label.youReceive')}</span>\n                </div>\n                <TokenSelect\n                    onTokenSwitch={handleOutputTokenSwitch}\n                    value={mutation.formattedAmountOut}\n                    tokens={outputs}\n                    selectedToken={mutation.toToken}\n                    onValueChange={(v) => handleAmountOutChange(v)}\n                />\n            </div>\n\n            <div className={s['token-swapper__token']}>\n                <div className={s['token-swapper__token-header']}>\n                    <span>{trans('market.label.overview', {}, true)}</span>\n                </div>\n                <SwapOverview />\n            </div>\n\n            <Button onClick={() => handleSubmit(mutation)} className={s['token-swapper__confirm']}>\n                {trans('market.action.confirmSwap')}\n            </Button>\n        </form>\n    );\n}\n","import { BUY } from \"../../../config\";\nimport { TokenViewModel } from \"../../../models/TokenViewModel\";\nimport { SwapFormValues } from \"../../../services/SwapService\";\n\nexport default function createDefaultSwapFormValues(fromToken: TokenViewModel, toToken: TokenViewModel): SwapFormValues {\n    return {\n        type: BUY,\n        fromToken,\n        toToken,\n        amountIn: \"0\",\n        amountOut: \"0\",\n        formattedAmountIn: \"\",\n        formattedAmountOut: \"\"\n    }\n}\n","import React, { ReactElement } from 'react';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport s from './TokenSwapperLoader.module.scss';\n\nexport default function TokenSwapperLoader(): ReactElement {\n    return (\n        <div>\n            <Skeleton height={106} className={s.skeleton} />\n            <Skeleton height={106} className={s.skeleton} />\n            <Skeleton height={130} className={s.skeleton} />\n            <Skeleton height={60} className={s.skeleton} />\n        </div>\n    );\n}\n","import React, { ReactElement, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport TokenSwapper from '../../containers/TokenSwapper';\nimport TokenSwapperLoader from '../../containers/TokenSwapper/TokenSwapperLoader';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport { Reducers } from '../../redux/reducers';\nimport createProtocolContract from '../../services/contracts/ProtocolContract';\nimport createTokenContract from '../../services/contracts/TokenContract';\nimport { SwapFormValues } from '../../services/SwapService';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function TokenSwapperConnector({\n    className,\n}: Props): ReactElement {\n    const [switched, setSwitched] = useState(false);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n\n    if (!market) {\n        return <TokenSwapperLoader />;\n    }\n\n    const inputs: TokenViewModel[] = [market.collateralToken];\n\n    async function onConfirm(\n        values: SwapFormValues\n    ): Promise<void> {\n        if (!market) throw new Error(\"Market is undefined\");\n\n        if (values.fromToken.tokenName === market.collateralTokenId) {\n            const token = await createTokenContract(values.fromToken.tokenName);\n            return token.buy(market.id, values);\n        } else {\n            const protocol = await createProtocolContract();\n            return protocol.sell(market.id, values);\n        }\n    }\n\n    function handleRequestSwitchPairs() {\n        setSwitched(!switched);\n    }\n\n    return (\n        <TokenSwapper\n            market={market}\n            inputs={switched ? market.outcomeTokens : inputs}\n            outputs={switched ? inputs : market.outcomeTokens}\n            onConfirm={onConfirm}\n            onRequestSwitchPairs={handleRequestSwitchPairs}\n            className={className}\n        />\n    );\n}\n","import React, { PropsWithChildren, ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport s from './ActionCard.module.scss';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function ActionsCard({\n    children,\n    className = '',\n}: PropsWithChildren<Props>): ReactElement {\n    return (\n        <div className={classnames(s.root, className)}>\n            {children}\n        </div>\n    );\n}\n","import React, { useEffect, useState } from 'react';\nimport SwipeableViews from 'react-swipeable-views';\n\nimport TabBar, { TabBarItem } from '../TabBar/TabBar';\n\nimport s from './TabbedViews.module.scss';\n\ninterface ViewItem extends TabBarItem {\n    element: React.ReactNode;\n}\n\ninterface Props {\n    items: ViewItem[];\n}\n\nexport default function TabbedView({\n    items,\n}: Props) {\n    const [activeId, setActiveId] = useState(0);\n    const availableItems = items.filter(item => item.show);\n    const activeItem = availableItems[activeId];\n\n    function handleTabClick(item: TabBarItem) {\n        const itemIndex = availableItems.findIndex(i => i.id === item.id);\n        setActiveId(itemIndex);\n    }\n\n    function handleIndexChange(index: number) {\n        setActiveId(index);\n    }\n\n    return (\n        <div>\n            <TabBar\n                items={availableItems}\n                variant=\"fullWidth\"\n                onTabClick={handleTabClick}\n                activeId={activeItem?.id || \"\"}\n                className={s.tabs}\n            />\n            <SwipeableViews index={activeId} onChangeIndex={handleIndexChange}>\n                {availableItems.map(item => item.element)}\n            </SwipeableViews>\n        </div>\n    );\n}\n","import React, { ReactElement, useState } from 'react';\n\nimport Button from '../../components/Button';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport trans from '../../translation/trans';\nimport TokenSelect from '../TokenSelect';\n\nimport s from './LiquidityProvider.module.scss';\n\ninterface Props {\n    token: TokenViewModel;\n    onSubmit: (amountIn: string) => void;\n}\n\nexport default function LiquidityProvider({\n    token,\n    onSubmit,\n}: Props): ReactElement {\n    const [liquidityAmount, setLiquidityAmount] = useState('0');\n\n    function handleSubmit() {\n        onSubmit(liquidityAmount);\n    }\n\n    return (\n        <div>\n            <p>\n                {trans('liquidityProvider.description')}\n            </p>\n\n            <div className={s.header}>\n                <span>{trans('market.label.youPay')}</span>\n                <span>{trans('global.balance', {}, true)}: {token.balanceFormatted}</span>\n            </div>\n\n            <TokenSelect\n                value={liquidityAmount}\n                onValueChange={(v) => setLiquidityAmount(v)}\n                onTokenSwitch={() => {}}\n                selectedToken={token}\n                tokens={[token]}\n                className={s.tokenSelect}\n            />\n\n            <Button onClick={handleSubmit} className={s.confirm}>\n                {trans('market.action.confirmLiquidity')}\n            </Button>\n        </div>\n    );\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport LiquidityProvider from '../../containers/LiquidityProvider';\nimport { Reducers } from '../../redux/reducers';\nimport { joinPool } from '../../services/PoolService';\n\n\nexport default function LiquidityProviderConnector(): ReactElement {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n\n    const onJoinPool = useCallback((amountIn: string) => {\n        if (!market) return;\n\n        joinPool(market.id, amountIn, market.collateralTokenId);\n    }, [market]);\n\n    if (!market) {\n        return <div />\n    }\n\n    return (\n        <LiquidityProvider\n            token={market.collateralToken}\n            onSubmit={onJoinPool}\n        />\n    );\n}\n","import React from 'react';\nimport { MarketViewModel } from '../../../../models/Market';\nimport trans from '../../../../translation/trans';\nimport { getColorForOutcome } from '../../../../utils/getColorForOutcome';\n\nimport s from './FinalizedMarketOutcomes.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n}\n\nexport default function FinalizedMarketOutcomes({\n    market,\n}: Props) {\n    const payoutNumerator = market.payoutNumerator || [];\n\n    return (\n        <div>\n            <table className={s.table}>\n                <thead>\n                    <tr>\n                        <th>{trans('market.claimEarnings.label.outcome')}</th>\n                        <th>{trans('market.claimEarnings.label.payout')}</th>\n                        <th>{trans('market.claimEarnings.label.balance')}</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {payoutNumerator.map((numerator, index) => {\n                        const outcome = market.outcomeTokens.find(token => token.outcomeId === index);\n                        const color = getColorForOutcome(index);\n\n                        return (\n                            <tr>\n                                <td style={{ color: `var(${color})` }}>{outcome?.tokenName}</td>\n                                <td>{numerator}</td>\n                                <td>{outcome?.balanceFormatted}</td>\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Button from '../../components/Button';\nimport { MarketViewModel } from '../../models/Market';\nimport trans from '../../translation/trans';\n\nimport s from './ClaimEarnings.module.scss';\nimport FinalizedMarketOutcomes from './components/FinalizedMarketOutcomes';\n\ninterface Props {\n    market: MarketViewModel;\n    onClaim: () => void;\n}\n\nexport default function ClaimFees({\n    market,\n    onClaim,\n}: Props): ReactElement {\n    return (\n        <div>\n            {market.invalid && (\n                <p>{trans('market.claimEarnings.invalidMarket')}</p>\n            )}\n\n            {!market.invalid && (\n                <>\n                    <p>\n                        {trans('market.claimEarnings.validMarket', {\n                            amount: '$800',\n                        })}\n                    </p>\n                    <FinalizedMarketOutcomes market={market} />\n                </>\n            )}\n\n            <Button onClick={onClaim} className={s.confirm}>\n                {trans('market.action.claimEarnings')}\n            </Button>\n        </div>\n    );\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport ClaimEarnings from '../../containers/ClaimEarnings';\nimport { Reducers } from '../../redux/reducers';\nimport { claimEarningsForMarket } from '../../services/MarketService';\n\n\nexport default function ClaimEarningsConnector(): ReactElement {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n\n    const handleClaim = useCallback(() => {\n        if (!market) return;\n\n        claimEarningsForMarket(market.id);\n    }, [market]);\n\n    if (!market) {\n        return (\n            <div />\n        );\n    }\n\n    return (\n        <ClaimEarnings\n            market={market}\n            onClaim={handleClaim}\n        />\n    );\n}\n","import React from 'react';\nimport { MarketViewModel } from '../../../../models/Market';\nimport trans from '../../../../translation/trans';\n\ninterface Props {\n    market: MarketViewModel;\n}\n\nexport default function WrongOwnerMessage({\n    market,\n}: Props) {\n    return (\n        <div>\n            <h2>{trans('seedPool.wrongUser.title')}</h2>\n            <p>\n                {trans('seedPool.wrongUser.description', {\n                    account: market.owner,\n                })}\n            </p>\n        </div>\n    );\n}\n","import React, { useEffect, useState } from 'react';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n\nimport Button from '../../components/Button';\nimport Label from '../../components/Label';\nimport TextInput from '../../components/TextInput';\nimport { Account } from '../../models/Account';\nimport { MarketViewModel } from '../../models/Market';\nimport trans from '../../translation/trans';\nimport WrongOwnerMessage from './components/WrongOwnerMessage/WrongOwnerMessage';\nimport createDefaultSeedPoolFormValues from './services/createDefaultSeedPoolFormValues';\nimport { validateSeedPool } from './services/validateSeedPool';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport TokenSelect from '../TokenSelect';\nimport { SeedPoolFormValues } from '../../services/PoolService';\n\nimport s from './SeedPool.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n    mainToken: TokenViewModel;\n    account: Account | null,\n    onSeedPool: (values: SeedPoolFormValues) => void;\n    onFinalizePool: () => void;\n}\n\nexport default function SeedPool({\n    market,\n    account,\n    mainToken,\n    onSeedPool,\n    onFinalizePool,\n}: Props) {\n    const [formValues, setFormValues] = useState(createDefaultSeedPoolFormValues());\n\n    function handlePercentageChange(index: number, value: string) {\n        const percentages = formValues.outcomePercentages;\n        percentages[index] = Number(value);\n\n        setFormValues({\n            ...formValues,\n            outcomePercentages: percentages\n        });\n    }\n\n    function handleMainTokenChange(value: string) {\n        setFormValues({\n            ...formValues,\n            mainTokenInput: Number(value),\n        });\n    }\n\n    useEffect(() => {\n        setFormValues({\n            ...formValues,\n            outcomePercentages: market.outcomeTokens.map(() => 0)\n        });\n    }, [market.outcomeTokens]);\n\n    const errors = validateSeedPool(formValues);\n\n    return (\n        <div>\n            {(account?.accountId !== market.owner) && <WrongOwnerMessage market={market} />}\n\n            {(account?.accountId === market.owner && (\n                <form>\n                    <p>{trans('seedPool.explanation')}</p>\n\n                    <div className={s.inputWrapper}>\n                        <div className={s.tokenTitles}>\n                            <span>{trans('global.balance', {}, true)}: {mainToken.balanceFormatted}</span>\n                        </div>\n\n                        <TokenSelect\n                            onTokenSwitch={() => {}}\n                            value={formValues.mainTokenInput.toString()}\n                            tokens={[mainToken]}\n                            selectedToken={mainToken}\n                            onValueChange={handleMainTokenChange}\n                        />\n                    </div>\n\n                    <h3>{trans('seedPool.weightsTitle')}</h3>\n                    {formValues.outcomePercentages.map((percentage, index) => (\n                        <div className={s.inputWrapper} key={index}>\n                            <Label text={market.outcomeTokens.find(outcome => outcome.outcomeId === index)?.tokenName || \"\"} />\n                            <TextInput\n                                value={percentage.toString()}\n                                type=\"number\"\n                                onChange={(value) => handlePercentageChange(index, value)}\n                                error={!!errors.outcomePercentages[index]}\n                                helperText={errors.outcomePercentages[index]}\n                                InputProps={{\n                                    endAdornment: (\n                                        <InputAdornment position=\"end\">\n                                            <span className={s.adornement}>%</span>\n                                        </InputAdornment>\n                                    )\n                                }}\n                            />\n                        </div>\n                    ))}\n\n                    {!errors.canSubmit && <p>{errors.message}</p>}\n\n                    <Button\n                        className={s.confirmButton}\n                        disabled={!errors.canSubmit}\n                        onClick={() => onSeedPool(formValues)}\n                    >\n                        {trans('seedPool.action.submit')}\n                    </Button>\n                    <Button\n                        className={s.confirmButton}\n                        onClick={() => onFinalizePool()}\n                    >\n                        {trans('seedPool.action.finalize')}\n                    </Button>\n                </form>\n            ))}\n        </div>\n    );\n}\n","import { SeedPoolFormValues } from \"../../../services/PoolService\";\n\nexport default function createDefaultSeedPoolFormValues(): SeedPoolFormValues {\n    return {\n        outcomePercentages: [],\n        mainTokenInput: 0,\n    };\n}\n","import { SeedPoolFormValues } from \"../../../services/PoolService\";\nimport trans from \"../../../translation/trans\";\n\nexport interface SeedPoolFormErrors {\n    outcomePercentages: string[];\n    canSubmit: boolean;\n    message: string;\n}\n\nexport function validateSeedPool(formValues: SeedPoolFormValues) {\n    const errors: SeedPoolFormErrors = {\n        outcomePercentages: [],\n        canSubmit: true,\n        message: '',\n    }\n\n    errors.outcomePercentages = formValues.outcomePercentages.map(percentage => {\n        if (percentage <= 0) return trans('seedPool.inputZero');\n        if (percentage >= 100) return trans('seedPool.input100');\n\n        return '';\n    });\n\n    const hasOutcomeErrors = errors.outcomePercentages.some(item => item !== '');\n    const percentageTogether = formValues.outcomePercentages.reduce((prev, cur) => prev + cur, 0);\n\n    if (hasOutcomeErrors || percentageTogether !== 100) {\n        errors.canSubmit = false;\n    }\n\n    if (percentageTogether !== 100) {\n        errors.message = trans('seedPool.not100Percent', {\n            percentage: percentageTogether.toString(),\n        });\n    }\n\n    return errors;\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport SeedPool from '../../containers/SeedPool';\nimport { SeedPoolFormValues } from '../../services/PoolService';\nimport { Reducers } from '../../redux/reducers';\nimport { publishPoolAction, seedPoolAction } from '../../redux/market/marketActions';\n\nexport default function SeedPoolConnector() {\n    const dispatch = useDispatch();\n    const account = useSelector((store: Reducers) => store.account.account);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n\n    const handleSeedPool = useCallback((formValues: SeedPoolFormValues) => {\n        if (!market) return;\n\n        dispatch(seedPoolAction(market.id, formValues));\n    }, [dispatch, market]);\n\n    const handleFinalize = useCallback(() => {\n        if (!market) return;\n\n        dispatch(publishPoolAction(market.id, market.poolTokenInfo.totalSupply, market.collateralTokenId));\n    }, [dispatch, market]);\n\n    if (!market) {\n        return <div />;\n    }\n\n    return <SeedPool\n        account={account}\n        market={market}\n        mainToken={market.collateralToken}\n        onSeedPool={handleSeedPool}\n        onFinalizePool={handleFinalize}\n    />\n}\n","import React from 'react';\nimport trans from '../../translation/trans';\n\n\nexport default function MarketClosed() {\n    return (\n        <div>\n            <p>{trans('marketClosed.description')}</p>\n        </div>\n    );\n}\n","import React from 'react';\n\nimport s from './Error.module.scss';\n\ninterface Props {\n    error?: string;\n}\n\nexport default function Error({\n    error,\n}: Props) {\n    return (\n        error ? <p className={s.error}>{error}</p> : null\n    );\n}\n","import React, { useState } from 'react';\nimport Button from '../../components/Button';\nimport Error from '../../components/Error';\nimport { PoolToken, transformPoolTokenToTokenViewModel } from '../../models/PoolToken';\nimport { formatCollateralToken } from '../../services/CollateralTokenService';\nimport trans from '../../translation/trans';\nimport TokenSelect from '../TokenSelect';\n\nimport s from './ExitPool.module.scss';\nimport createDefaultExitPoolFormValues, { ExitPoolFormValues } from './services/createDefaultExitPoolFormValues';\nimport validateExitPool from './services/validateExitPool';\n\ninterface Props {\n    poolToken: PoolToken;\n    onExitPool: (formValues: ExitPoolFormValues) => void;\n}\n\nexport default function ExitPool({\n    poolToken,\n    onExitPool,\n}: Props) {\n    const [formValues, setFormValues] = useState(createDefaultExitPoolFormValues());\n    const token = transformPoolTokenToTokenViewModel(poolToken);\n\n    function handleAmountInChange(value: string) {\n        setFormValues({\n            ...formValues,\n            amountIn: value,\n        });\n    }\n\n    function handleSubmit() {\n        onExitPool(formValues);\n    }\n\n    const errors = validateExitPool(formValues, poolToken);\n\n    return (\n        <section>\n            <p>\n                {trans('exitPool.description')}\n            </p>\n            <div className={s.header}>\n                <span>{trans('exitPool.label.youInsert')}</span>\n                <span>{trans('global.balance', {}, true)}: {poolToken.balanceFormatted}</span>\n            </div>\n            <TokenSelect\n                value={formValues.amountIn}\n                onValueChange={handleAmountInChange}\n                onTokenSwitch={() => { }}\n                selectedToken={token}\n                tokens={[token]}\n                className={s.tokenSelect}\n                showPrice={false}\n            />\n            <Error error={errors.amountIn} />\n            <p>\n                {trans('exitPool.label.feesEarned', {\n                    amount: formatCollateralToken(poolToken.fees, 18, 8),\n                })}\n            </p>\n            <Button onClick={handleSubmit} className={s.confirm} disabled={!errors.canSubmit}>\n                {trans('exitPool.action.exitPool')}\n            </Button>\n        </section>\n    );\n}\n","export interface ExitPoolFormValues {\n    amountIn: string;\n}\n\nexport default function createDefaultExitPoolFormValues(): ExitPoolFormValues {\n    return {\n        amountIn: '',\n    };\n}\n","import Big from 'big.js';\nimport { PoolToken } from '../../../models/PoolToken';\nimport { toCollateralToken } from '../../../services/CollateralTokenService';\nimport trans from '../../../translation/trans';\nimport { ExitPoolFormValues } from './createDefaultExitPoolFormValues';\n\ninterface ExitPoolFormErrors {\n    amountIn: string;\n    canSubmit: boolean;\n}\n\nexport default function validateExitPool(formValues: ExitPoolFormValues, poolToken: PoolToken) {\n    const errors: ExitPoolFormErrors = {\n        canSubmit: true,\n        amountIn: '',\n    }\n\n    if (formValues.amountIn !== '') {\n\n        const amountIn = toCollateralToken(formValues.amountIn);\n\n        if (new Big(poolToken.balance).lt(amountIn)) {\n            errors.amountIn = trans('exitPool.validation.amountIn.tooHigh');\n            errors.canSubmit = false;\n        }\n\n        if (new Big(amountIn).lte(0)) {\n            errors.amountIn = trans('exitPool.validation.amountIn.negative');\n            errors.canSubmit = false;\n        }\n    } else {\n        errors.canSubmit = false;\n    }\n\n    return errors;\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ExitPool from '../../containers/ExitPool';\nimport { ExitPoolFormValues } from '../../containers/ExitPool/services/createDefaultExitPoolFormValues';\nimport { exitPoolAction } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function ExitPoolConnector() {\n    const poolToken = useSelector((store: Reducers) => store.market.poolTokenBalance);\n    const dispatch = useDispatch();\n\n    const handleExitPool = useCallback((formValues: ExitPoolFormValues) => {\n        if (!poolToken) return;\n\n        dispatch(exitPoolAction(poolToken.marketId, formValues.amountIn));\n    }, [poolToken, dispatch]);\n\n    if (!poolToken) {\n        return <div />\n    }\n\n    return (\n        <ExitPool\n            poolToken={poolToken}\n            onExitPool={handleExitPool}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { Link } from 'react-router-dom';\nimport classnames from 'classnames';\n\nimport { PoolToken } from '../../models/PoolToken';\nimport { routePaths } from '../../routes';\nimport trans from '../../translation/trans';\nimport { formatCollateralToken } from '../../services/CollateralTokenService';\n\nimport s from './FeesEarnedOverview.module.scss';\n\ninterface Props {\n    poolTokens: PoolToken[];\n    className?: string;\n}\n\nexport default function FeesEarnedOverview({\n    poolTokens,\n    className,\n}: Props): ReactElement {\n    return (\n        <section className={classnames(s.root, className)}>\n            <header className={s.header}>\n                {trans('feesEarned.title')}\n            </header>\n            <table className={s.table}>\n                <thead className={s.tableHead}>\n                    <tr className={s.tableHeadRow}>\n                        <th>{trans('feesEarned.table.market')}</th>\n                        <th>{trans('feesEarned.table.balance')}</th>\n                        <th>{trans('feesEarned.table.feesEarned')}</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {poolTokens.map((poolToken) => (\n                        <tr className={s.tableRow}>\n                            <td>\n                                <Link to={routePaths.marketDetail(poolToken.marketId)} className={s.link}>\n                                    {poolToken.marketDescription}\n                                </Link>\n                            </td>\n                            <td>\n                                <Link to={routePaths.marketDetail(poolToken.marketId)} className={s.link}>\n                                    {formatCollateralToken(poolToken.balance)}\n                                </Link>\n                            </td>\n                            <td>\n                                <Link to={routePaths.marketDetail(poolToken.marketId)} className={s.link}>\n                                    {formatCollateralToken(poolToken.fees)}\n                                </Link>\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </section>\n    );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport FeesEarnedOverview from '../../containers/FeesEarnedOverview';\nimport { Reducers } from '../../redux/reducers';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function FeesEarnedOverviewConnector({\n    className,\n}: Props) {\n    const poolTokens = useSelector((store: Reducers) => store.account.poolTokens);\n\n    return <FeesEarnedOverview poolTokens={poolTokens} className={className} />\n}\n","import React from 'react';\n\nimport classnames from 'classnames';\n\nimport { UserBalance } from '../../models/UserBalance';\nimport trans from '../../translation/trans';\nimport { Link } from 'react-router-dom';\nimport { formatCollateralToken } from '../../services/CollateralTokenService';\nimport { routePaths } from '../../routes';\n\nimport s from './UserBalancesOverview.module.scss';\n\n\ninterface Props {\n    balances: UserBalance[];\n    className?: string;\n}\n\nexport default function UserBalancesOverview({\n    balances,\n    className = '',\n}: Props) {\n    return (\n        <section className={classnames(s.root, className)}>\n            <header className={s.header}>\n                {trans('userbalances.title')}\n            </header>\n            <table className={s.table}>\n                <thead className={s.tableHead}>\n                    <tr className={s.tableHeadRow}>\n                        <th>{trans('userbalances.table.market')}</th>\n                        <th>{trans('userbalances.table.outcome')}</th>\n                        <th>{trans('userbalances.table.balance')}</th>\n                        <th>{trans('userbalances.table.status')}</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {/** Filters out any pool tokens */}\n                    {balances.filter(balance => balance.outcomeTag).map((info) => (\n                        <tr className={s.tableRow}>\n                            <td>\n                                <Link to={routePaths.marketDetail(info.marketId)} className={s.link}>\n                                    {info.marketDescription}\n                                </Link>\n                            </td>\n                            <td>\n                                <Link to={routePaths.marketDetail(info.marketId)} className={s.link}>\n                                    {info.outcomeTag}\n                                </Link>\n                            </td>\n                            <td>\n                                <Link to={routePaths.marketDetail(info.marketId)} className={s.link}>\n                                    {formatCollateralToken(info.balance)}\n                                </Link>\n                            </td>\n                            <td>\n                                <Link to={routePaths.marketDetail(info.marketId)} className={s.link}>\n                                    {info.marketStatus}\n                                </Link>\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </section>\n    );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport UserBalancesOverview from '../../containers/UserBalancesOverview';\nimport { Reducers } from '../../redux/reducers';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function UserBalancesOverviewConnector({\n    className,\n}: Props) {\n    const balances = useSelector((store: Reducers) => store.account.balances);\n\n    return (\n        <UserBalancesOverview balances={balances} className={className} />\n    );\n}\n","import * as Router from 'react-router';\nimport HomePage from './pages/HomePage';\nimport MarketPage from './pages/MarketPage';\nimport ProfilePage from './pages/ProfilePage';\n\ninterface RouteProps extends Router.RouteProps {\n    inNavigation: boolean;\n    key: string;\n    label: string;\n    icon?: string;\n}\n\nexport const routePaths = {\n    root: () => '/',\n    profile: () => '/profile',\n    resoluted: () => '/resoluted',\n    marketDetail: (marketId = ':marketId') => `/markets/${marketId}`,\n}\n\nexport const routes: RouteProps[] = [\n    {\n        component: MarketPage,\n        exact: true,\n        inNavigation: false,\n        key: 'market',\n        label: 'Market',\n        path: routePaths.marketDetail(),\n    },\n    {\n        component: ProfilePage,\n        exact: true,\n        inNavigation: false,\n        key: 'home',\n        label: 'Home',\n        path: routePaths.profile(),\n    },\n    {\n        component: HomePage,\n        exact: false,\n        inNavigation: false,\n        key: 'home',\n        label: 'Home',\n        path: routePaths.root(),\n    },\n];\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router';\nimport { DiscussionEmbed } from 'disqus-react';\nimport { Helmet } from 'react-helmet';\n\nimport MarketHeaderConnector from '../../connectors/MarketHeaderConnector';\nimport MarketResolutionInfoConenctor from '../../connectors/MarketResolutionInfoConnector';\nimport MarketStatisticsConnector from '../../connectors/MarketStatisticsConnector';\nimport TokenSwapperConnector from '../../connectors/TokenSwapperConnector';\nimport Page from '../../containers/Page';\nimport { fetchMarketById } from '../../redux/market/marketActions';\nimport trans from '../../translation/trans';\nimport ActionsCard from '../../components/ActionsCard';\nimport TabbedView from '../../containers/TabbedViews';\nimport LiquidityProviderConnector from '../../connectors/LiquidityProviderConnector';\nimport { Reducers } from '../../redux/reducers';\nimport ClaimEarningsConnector from '../../connectors/ClaimEarningsConnector';\nimport SeedPoolConnector from '../../connectors/SeedPoolConnector';\nimport MarketClosed from '../../containers/MarketClosed';\nimport ExitPoolConnector from '../../connectors/ExitPoolConnector';\n\nimport s from './MarketPage.module.scss';\n\ninterface RouterParams {\n    marketId: string;\n}\n\nexport default function MarketPage() {\n    const dispatch = useDispatch();\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const poolToken = useSelector((store: Reducers) => store.market.poolTokenBalance);\n    const { marketId } = useParams<RouterParams>();\n\n    useEffect(() => {\n        dispatch(fetchMarketById(marketId));\n    }, [dispatch, marketId]);\n\n    return (\n        <Page hasNavigation size=\"unrestricted\" className={s.root}>\n            <Helmet>\n                <title>\n                    {trans('market.title.head', {\n                        appName: trans('global.appName'),\n                        description: market?.description || '',\n                    })}\n                </title>\n            </Helmet>\n            <MarketHeaderConnector />\n            <div className={s.details}>\n                <div className={s.infoWrapper}>\n                    <MarketStatisticsConnector className={s.stats} />\n                    <MarketResolutionInfoConenctor />\n                </div>\n                <ActionsCard className={s.tokenSwapper}>\n                    <TabbedView\n                        items={[{\n                            element: <TokenSwapperConnector key=\"tokenswapper\" />,\n                            label: trans('market.label.swap'),\n                            show: market?.public === true && market?.finalized === false,\n                            id: '0',\n                        }, {\n                            element: <LiquidityProviderConnector key=\"liquidity\" />,\n                            label: trans('market.label.liquidity'),\n                            show: market?.public === true && market?.finalized === false,\n                            id: '1',\n                        }, {\n                            element: <ClaimEarningsConnector key=\"claimEarnings\" />,\n                            label: trans('market.label.claimEarnings'),\n                            show: market?.finalized === true,\n                            id: '2',\n                        }, {\n                            element: <SeedPoolConnector key=\"seedpool\" />,\n                            label: trans('market.label.seedPool'),\n                            show: market?.finalized === false && market.public === false && market.resolutionDate > new Date(),\n                            id: '3',\n                        }, {\n                            element: <MarketClosed key=\"marketClosed\" />,\n                            label: trans('market.label.marketClosed'),\n                            show: market?.finalized === false && market.resolutionDate <= new Date(),\n                            id: '4',\n                        }, {\n                            element: <ExitPoolConnector key=\"exitPool\" />,\n                            label: trans('market.label.exitPool'),\n                            show: market?.public === true && !!poolToken,\n                            id: '5',\n                        }]}\n                    />\n                </ActionsCard>\n            </div>\n            <div className={s.comments}>\n                <h2>{trans('global.comments')}</h2>\n                <DiscussionEmbed shortname=\"flux\" config={{}} />\n            </div>\n        </Page>\n    );\n}\n","import React, { ReactElement, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport FeesEarnedOverviewConnector from '../../connectors/FeesEarnedOverviewConnector';\nimport UserBalancesOverviewConnector from '../../connectors/UserBalancesOverviewConnector';\nimport Page from '../../containers/Page';\nimport { loadAccountBalanceInfo } from '../../redux/account/accountActions';\nimport { Reducers } from '../../redux/reducers';\n\nimport s from './ProfilePage.module.scss';\n\n\nexport default function ProfilePage(): ReactElement {\n    const dispatch = useDispatch();\n    const account = useSelector((store: Reducers) => store.account.account);\n\n    useEffect(() => {\n        if (!account) return;\n        dispatch(loadAccountBalanceInfo(account.accountId));\n    }, [dispatch, account]);\n\n    return (\n        <Page hasFooter={false} className={s.root} bodyClassName={s.pageBody} size=\"large\">\n            <UserBalancesOverviewConnector className={s.userBalances} />\n            <FeesEarnedOverviewConnector className={s.feesEarned} />\n        </Page>\n    );\n}\n","import React, { useCallback } from 'react';\nimport Helmet from 'react-helmet';\nimport { Route, Switch, useHistory, useLocation } from 'react-router';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport BackgroundWave from '../../components/BackgroundWave';\nimport TabBar from '../../containers/TabBar';\nimport Page from '../../containers/Page';\nimport { routePaths } from '../../routes';\nimport trans from '../../translation/trans';\nimport ResolutionPage from './sub-pages/ResolutionPage';\nimport { TabBarItem } from '../../containers/TabBar/TabBar';\nimport MarketsOverviewPage from './sub-pages/MarketsOverviewPage';\nimport MarketCreationDialogConnector from '../../connectors/MarketCreationDialogConnector';\n\nimport s from './HomePage.module.scss';\nimport HomeHeaderConnector from '../../connectors/HomeHeaderConnector';\n\n\nexport default function HomePage() {\n    const isLargeScreen = useMediaQuery('(min-width: 1024px)');\n    const history = useHistory();\n    const location = useLocation();\n\n    const onTabClick = useCallback((item: TabBarItem) => {\n        history.push(item.id);\n    }, [history]);\n\n    return (\n        <Page className={s.homePage} bodyClassName={s.homePageBody} size=\"large\" hasNavigation>\n            <BackgroundWave />\n            <HomeHeaderConnector />\n            <TabBar\n                className={s.tabBar}\n                activeId={location.pathname}\n                onTabClick={onTabClick}\n                variant={isLargeScreen ? 'standard' : 'fullWidth'}\n                items={[{\n                    id: routePaths.root(),\n                    label: trans('pages.marketOverview'),\n                    show: true,\n                }, {\n                    id: routePaths.resoluted(),\n                    label: trans('pages.resoluteOverview'),\n                    show: true,\n                }]}\n            />\n            <MarketCreationDialogConnector />\n            <Switch>\n                <Route exact path={routePaths.root()} component={MarketsOverviewPage} />\n                <Route exact path={routePaths.resoluted()} component={ResolutionPage} />\n            </Switch>\n        </Page>\n    );\n}\n","import React, { ReactElement } from 'react';\n\nimport { Route, Switch } from 'react-router';\n\nimport { routes } from './routes';\nimport { themeContext, useDarkMode } from './utils/hooks/useDarkModeTheme';\n\nfunction App(): ReactElement {\n    const [theme, toggleTheme] = useDarkMode();\n\n    return (\n        // @ts-ignore\n        <themeContext.Provider value={{ toggleTheme, theme }}>\n            <Switch>\n                {routes.map((route): ReactElement => <Route {...route} key={route.key} />)}\n            </Switch>\n        </themeContext.Provider>\n    );\n};\n\nexport default App;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { Pool } from '../../models/Pool';\n\nexport type PoolState = Readonly<{\n    pools: Pool[];\n    poolError?: string[];\n    poolLoading: boolean;\n}>;\n\nconst initialState: PoolState = {\n    poolLoading: false,\n    pools: [],\n};\n\nconst poolsSlice = createSlice({\n    initialState,\n    name: 'pools',\n    reducers: {\n        setPoolErrors(state: PoolState, action: PayloadAction<string[]>): PoolState {\n            return ({\n                ...state,\n                poolError: action.payload,\n            });\n        },\n        setPoolLoading(state: PoolState, action: PayloadAction<boolean>): PoolState {\n            return ({\n                ...state,\n                poolLoading: action.payload,\n            });\n        },\n        setPools(state: PoolState, action: PayloadAction<Pool[]>): PoolState {\n            return ({\n                ...state,\n                pools: action.payload,\n            });\n        },\n    },\n});\n\nexport const {\n    setPoolErrors,\n    setPoolLoading,\n    setPools,\n} = poolsSlice.actions;\n\nexport default poolsSlice.reducer;\n","import { combineReducers } from 'redux';\n\nimport pools, { PoolState } from './pools/pools';\nimport market, { MarketState } from './market/market';\nimport priceHistory, { PriceHistoryState } from './priceHistory/priceHistory';\nimport dialogs, { DialogsState } from './dialogs/dialogs';\nimport account, { AccountState } from './account/account';\n\nexport interface Reducers {\n    pools: PoolState;\n    market: MarketState;\n    priceHistory: PriceHistoryState;\n    dialogs: DialogsState;\n    account: AccountState;\n}\n\nexport default combineReducers<Reducers>({\n    account,\n    pools,\n    market,\n    priceHistory,\n    dialogs,\n});\n","import {\n    applyMiddleware,\n    CombinedState,\n    createStore,\n    Store,\n    StoreEnhancer,\n} from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\n\nimport reducers, { Reducers } from './reducers';\n\nconst createEnhancer = (): StoreEnhancer => (process.env.REACT_APP_APP_ENV !== 'production'\n    ? composeWithDevTools(applyMiddleware(thunk))\n    : applyMiddleware(thunk)\n);\n\nexport default function configureStore(preloadedState: Record<string, any> = {}): Store<CombinedState<Reducers>> {\n    const enhancer = createEnhancer();\n    return createStore(reducers, preloadedState, enhancer);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { StylesProvider } from '@material-ui/core/styles';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\n\nimport App from './App';\nimport configureStore from './redux/store';\n\nimport './styles/global.module.scss';\n\nconst store = configureStore({});\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <StylesProvider injectFirst>\n                    <App />\n                </StylesProvider>\n            </MuiPickersUtilsProvider>\n        </BrowserRouter>\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(console.log);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"MarketCreationDialog_filters__1wQ7F\",\"filter\":\"MarketCreationDialog_filter__rL3p7\",\"inputsWrapper\":\"MarketCreationDialog_inputsWrapper__kSF9k\",\"categories\":\"MarketCreationDialog_categories__3I7_N\",\"label\":\"MarketCreationDialog_label__QojXy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketHeader_root__3D1Vw\",\"wrapper\":\"MarketHeader_wrapper__2d74u\",\"title\":\"MarketHeader_title__2Xliv\",\"resolutionDate\":\"MarketHeader_resolutionDate__2TtDh\",\"headerItem\":\"MarketHeader_headerItem__MJJc3\",\"categoryTag\":\"MarketHeader_categoryTag__QLYfv\",\"bubble\":\"MarketHeader_bubble__uH7BP\",\"opinionCardWrapper\":\"MarketHeader_opinionCardWrapper__WzifQ\",\"market-header__back-button\":\"MarketHeader_market-header__back-button__1U-Qq\",\"market-header__resolution-date-title\":\"MarketHeader_market-header__resolution-date-title__3IhYu\",\"market-header__resolution-date-stamp\":\"MarketHeader_market-header__resolution-date-stamp__1BcaE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"swap-overview\":\"SwapOverview_swap-overview__tofCH\",\"swap-overview__info-row\":\"SwapOverview_swap-overview__info-row__18KCF\",\"swap-overview__info-key\":\"SwapOverview_swap-overview__info-key__3q7nI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"UserBalancesOverview_root__3reWC\",\"header\":\"UserBalancesOverview_header__2kUYq\",\"table\":\"UserBalancesOverview_table__3DImk\",\"tableHeadRow\":\"UserBalancesOverview_tableHeadRow__3X1FY\",\"tableRow\":\"UserBalancesOverview_tableRow__2crSB\",\"link\":\"UserBalancesOverview_link__GWe9h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketOverview_root__3Omus\",\"filters\":\"MarketOverview_filters__2uQkg\",\"filter\":\"MarketOverview_filter__15PLr\",\"market\":\"MarketOverview_market__1-Nmd\",\"markets\":\"MarketOverview_markets__3zaEa\",\"skeleton\":\"MarketOverview_skeleton__23k8G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token-dropdown\":\"TokenDropdown_token-dropdown__3e5w-\",\"token-dropdown__fake-top\":\"TokenDropdown_token-dropdown__fake-top__1JOt5\",\"token-dropdown__balance\":\"TokenDropdown_token-dropdown__balance__3p3cW\",\"token-dropdown__tokens\":\"TokenDropdown_token-dropdown__tokens__1Nca2\",\"token-dropdown__token\":\"TokenDropdown_token-dropdown__token__2PGWR\",\"token-dropdown__token-info\":\"TokenDropdown_token-dropdown__token-info__SPch6\",\"token-dropdown__token-icon\":\"TokenDropdown_token-dropdown__token-icon__P6DUY\",\"token-dropdown__token-balance\":\"TokenDropdown_token-dropdown__token-balance__3oRns\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token-swapper\":\"TokenSwapper_token-swapper__2wj13\",\"token-swapper__confirm\":\"TokenSwapper_token-swapper__confirm__2yAvV\",\"token-swapper__token\":\"TokenSwapper_token-swapper__token__oio0-\",\"token-swapper__token-header\":\"TokenSwapper_token-swapper__token-header__2V4H4\",\"token-swapper__switch-tokens\":\"TokenSwapper_token-swapper__switch-tokens__3Ltrn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FeesEarnedOverview_root__1jp6H\",\"header\":\"FeesEarnedOverview_header__2dL1Y\",\"table\":\"FeesEarnedOverview_table__8FrdZ\",\"tableHeadRow\":\"FeesEarnedOverview_tableHeadRow__1pB3N\",\"tableRow\":\"FeesEarnedOverview_tableRow__1ANv1\",\"link\":\"FeesEarnedOverview_link__HVlWT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__2sZJU\",\"menu__items\":\"Menu_menu__items__2AaF-\",\"menu__item\":\"Menu_menu__item__qQ9mN\",\"menu__logo\":\"Menu_menu__logo__1uT-0\",\"menu__last-item\":\"Menu_menu__last-item__3rQBd\",\"accountMenuButton\":\"Menu_accountMenuButton__5h8f2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketOpinionCard_root__388St\",\"title\":\"MarketOpinionCard_title__13oRu\",\"token-weight-bar\":\"MarketOpinionCard_token-weight-bar__WMDV0\",\"volume-wrapper\":\"MarketOpinionCard_volume-wrapper__1vdNR\",\"outcomes-wrapper\":\"MarketOpinionCard_outcomes-wrapper__3YEfQ\",\"outcome\":\"MarketOpinionCard_outcome__1sfEO\",\"outcome-label-wrapper\":\"MarketOpinionCard_outcome-label-wrapper__3C8cG\",\"color-label\":\"MarketOpinionCard_color-label__3H12q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token-select\":\"TokenSelect_token-select__27VH9\",\"token-select__info\":\"TokenSelect_token-select__info__9n_YI\",\"token-select__token-icon\":\"TokenSelect_token-select__token-icon__29BF7\",\"token-select__inputs\":\"TokenSelect_token-select__inputs__odDi4\",\"token-select__inputs-info\":\"TokenSelect_token-select__inputs-info__3KZ0Q\",\"token-select__token-name\":\"TokenSelect_token-select__token-name__25V3B\",\"token-select__input\":\"TokenSelect_token-select__input__2V0Jg\"};"],"sourceRoot":""}